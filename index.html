<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NBA Career Map | HoopsHype</title>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --red: #d63031;
            --text: #1a1a1a;
            --text-muted: #666;
            --border: #e0e0e0;
            --bg: #fff;
            --bg-gray: #f8f8f8;
            --green: #27ae60;
            --blue: #2980b9;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Open Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #f5f5f5;
            color: var(--text);
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        header {
            background: #fff;
            padding: 14px 20px;
            border-bottom: none;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 20px rgba(0,0,0,0.08);
        }
        
        .header-inner {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            white-space: nowrap;
        }
        
        .logo-img {
            height: 32px;
            width: auto;
        }
        
        .logo-text {
            font-weight: 700;
            font-size: 16px;
            color: #1a1a1a;
            letter-spacing: -0.5px;
            text-transform: uppercase;
            border-left: 2px solid #ddd;
            padding-left: 10px;
        }
        
        .search-wrap {
            flex: 1;
            max-width: 280px;
            position: relative;
        }
        
        #search {
            width: 100%;
            padding: 10px 14px;
            font-size: 14px;
            font-family: inherit;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            outline: none;
            transition: all 0.2s ease;
            background: #f8f8f8;
        }
        
        #search:focus {
            border-color: var(--red);
            background: #fff;
            box-shadow: 0 0 0 4px rgba(214, 48, 49, 0.1);
        }
        
        #search::placeholder {
            color: #999;
        }
        
        #results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 0 0 4px 4px;
            border-top: none;
            max-height: 300px;
            overflow-y: auto;
            display: none;
            z-index: 999;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        #results.show { display: block; }
        
        .result-item {
            padding: 8px 12px;
            cursor: pointer;
            font-size: 13px;
            border-bottom: 1px solid var(--border);
        }
        
        .result-item:hover { background: var(--bg-gray); }
        
        main {
            display: flex;
            flex-direction: column;
            height: calc(100vh - 50px);
            height: calc(100dvh - 50px);
        }
        
        #map {
            height: 55%;
            min-height: 280px;
            background: #eee;
            position: relative;
        }
        
        .legend {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(255,255,255,0.95);
            padding: 6px 10px;
            border-radius: 4px;
            font-size: 10px;
            z-index: 999;
            display: flex;
            gap: 10px;
            box-shadow: 0 1px 4px rgba(0,0,0,0.1);
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 4px;
            color: var(--text-muted);
        }
        
        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            border: 2px solid #fff;
            box-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }
        
        .legend-dot.first { background: var(--green); }
        .legend-dot.mid { background: var(--red); }
        .legend-dot.last { background: var(--blue); }
        
        .panel {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
            -webkit-overflow-scrolling: touch;
        }
        
        .welcome { text-align: center; padding: 16px 0; }
        
        .quiz-hero {
            background: linear-gradient(145deg, #d63031 0%, #b71c1c 100%);
            color: #fff;
            padding: 14px 12px;
            border-radius: 10px;
            margin-bottom: 12px;
            box-shadow: 0 8px 32px rgba(214, 48, 49, 0.35);
            position: relative;
            overflow: hidden;
        }
        
        @media (min-width: 768px) {
            .quiz-hero { padding: 28px 24px; border-radius: 14px; margin-bottom: 20px; }
        }
        
        .quiz-hero::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 60%);
            pointer-events: none;
        }
        
        .quiz-hero-icon { font-size: 48px; margin-bottom: 12px; }
        .quiz-hero h2 { font-size: 24px; margin-bottom: 8px; color: #fff; }
        .quiz-hero p { color: rgba(255,255,255,0.9); font-size: 14px; margin-bottom: 20px; }
        
        .quiz-hero-btn {
            background: #fff;
            color: #d63031;
            border: none;
            padding: 10px 28px;
            border-radius: 50px;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            font-family: inherit;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 20px rgba(0,0,0,0.25);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .quiz-hero-btn:hover {
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 6px 24px rgba(0,0,0,0.3);
        }
        
        .quiz-hero-btn:active {
            transform: translateY(-1px) scale(0.98);
        }
        
        @media (min-width: 768px) {
            .quiz-hero-btn { padding: 14px 40px; font-size: 16px; }
        }
        
        .play-icon { font-size: 14px; }
        
        .quiz-rules {
            text-align: left;
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            padding: 8px 10px;
            margin: 10px 0 12px 0;
            font-size: 11px;
            backdrop-filter: blur(10px);
        }
        
        .quiz-rule {
            padding: 4px 0;
            display: flex;
            align-items: center;
            gap: 6px;
            font-weight: 500;
        }
        
        .quiz-rule:not(:last-child) {
            border-bottom: 1px solid rgba(255,255,255,0.12);
        }
        
        @media (min-width: 768px) {
            .quiz-rules { padding: 14px 18px; font-size: 13px; margin: 16px 0 20px 0; }
            .quiz-rule { padding: 6px 0; gap: 10px; }
        }
        
        .explore-section {
            padding-top: 16px;
            border-top: 1px solid var(--border);
        }
        .welcome h2 { font-size: 18px; margin-bottom: 6px; }
        .welcome p { font-size: 13px; color: var(--text-muted); margin-bottom: 20px; }
        
        .player-section { display: none; }
        .player-section.active { display: block; }
        
        .player-name {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 2px;
        }
        
        .player-span {
            font-size: 13px;
            color: var(--text-muted);
            margin-bottom: 16px;
        }
        
        .stats {
            display: flex;
            gap: 6px;
            margin-bottom: 20px;
        }
        
        .stat {
            flex: 1;
            text-align: center;
            padding: 10px 4px;
            background: var(--bg-gray);
            border-radius: 4px;
        }
        
        .stat-num {
            font-size: 20px;
            font-weight: 700;
            color: var(--red);
        }
        
        .stat-lbl {
            font-size: 10px;
            color: var(--text-muted);
            text-transform: uppercase;
        }
        
        .section-title {
            font-size: 11px;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 10px;
        }
        
        .timeline {
            position: relative;
            margin-left: 12px;
            border-left: 2px solid var(--border);
            padding-left: 20px;
        }
        
        .stop {
            position: relative;
            padding: 10px 0;
            cursor: pointer;
            transition: background 0.1s;
            margin-left: -20px;
            padding-left: 20px;
            border-radius: 4px;
        }
        
        .stop:hover, .stop.hl { background: var(--bg-gray); }
        
        .stop-num {
            position: absolute;
            left: -31px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            background: var(--red);
            color: #fff;
            border-radius: 50%;
            font-size: 10px;
            font-weight: 700;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid #fff;
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }
        
        .stop:first-child .stop-num { background: var(--green); }
        .stop:last-child .stop-num { background: var(--blue); }
        
        .stop-team {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 2px;
        }
        
        .stop-team:hover { color: var(--red); text-decoration: underline; }
        
        .stop-meta {
            font-size: 12px;
            color: var(--text-muted);
        }
        
        .suggestions {
            margin-top: 24px;
            padding-top: 16px;
            border-top: 1px solid var(--border);
        }
        
        .chips {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }
        
        .chip {
            padding: 5px 10px;
            background: var(--bg-gray);
            border-radius: 16px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.1s;
        }
        
        .chip:hover {
            background: var(--red);
            color: #fff;
        }
        
        /* Modal */
        .modal-bg {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 16px;
        }
        
        .modal-bg.show { display: flex; }
        
        .modal {
            background: #fff;
            border-radius: 8px;
            width: 100%;
            max-width: 360px;
            max-height: 75vh;
            overflow: hidden;
        }
        
        .modal-head {
            padding: 12px 16px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-head h3 { font-size: 15px; }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: var(--text-muted);
        }
        
        .modal-body {
            padding: 12px 16px;
            max-height: 55vh;
            overflow-y: auto;
        }
        
        .modal-loc {
            font-size: 12px;
            color: var(--text-muted);
            margin-bottom: 10px;
        }
        
        .modal-count {
            font-size: 11px;
            color: var(--red);
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .modal-row {
            padding: 8px;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            font-size: 13px;
        }
        
        .modal-row:hover { background: var(--bg-gray); }
        
        .modal-yrs { color: var(--text-muted); font-size: 11px; }
        
        /* Map markers */
        .marker {
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            font-weight: 700;
            font-size: 10px;
            color: #fff;
            box-shadow: 0 2px 6px rgba(0,0,0,0.3);
            border: 2px solid #fff;
        }
        
        .leaflet-popup-content-wrapper {
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }
        
        .leaflet-popup-content { margin: 10px 12px; font-size: 13px; }
        
        .popup-team { font-weight: 600; margin-bottom: 3px; }
        .popup-loc { font-size: 12px; color: var(--text-muted); }
        .popup-yrs { font-size: 12px; color: var(--red); margin-top: 3px; }
        
        @media (min-width: 768px) {
            main {
                flex-direction: row;
                height: calc(100vh - 50px);
            }
            
            #map {
                flex: 1;
                height: 100%;
                order: 2;
            }
            
            .panel {
                width: 360px;
                border-right: 1px solid var(--border);
                order: 1;
            }
            
            .player-name { font-size: 26px; }
        }
    
        /* Quiz Mode Styles */
        .quiz-btn {
            background: linear-gradient(135deg, #d63031 0%, #c0392b 100%);
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-family: inherit;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.2s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 2px 8px rgba(214, 48, 49, 0.3);
        }
        .quiz-btn:hover { 
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(214, 48, 49, 0.4);
        }
        
        .quiz-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.9);
            z-index: 9999;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .quiz-overlay.show { display: flex; }
        
        .quiz-box {
            background: #fff;
            border-radius: 12px;
            width: 100%;
            max-width: 500px;
            padding: 24px;
            text-align: center;
        }
        
        .quiz-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
            color: var(--text);
        }
        
        
        .quiz-ready-buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .quiz-subtitle {
            font-size: 14px;
            color: var(--text-muted);
            margin-bottom: 10px;
        }
        .quiz-subtitle {
            font-size: 14px;
            color: var(--text-muted);
            margin-bottom: 20px;
        }
        
        .quiz-timer {
            font-size: 48px;
            font-weight: 700;
            color: var(--red);
            margin-bottom: 16px;
        }
        .quiz-timer.warning { color: #e67e22; }
        .quiz-timer.danger { animation: pulse 0.5s infinite; }
        @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.5} }
        
        .quiz-progress {
            font-size: 12px;
            color: var(--text-muted);
            margin-bottom: 16px;
        }
        
        .quiz-score-display {
            font-size: 14px;
            color: var(--green);
            font-weight: 600;
            margin-bottom: 20px;
        }
        
        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 4px;
            margin-bottom: 0;
        }
        
        .quiz-option {
            background: var(--bg-gray);
            border: 1px solid var(--border);
            padding: 8px 10px;
            border-radius: 5px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.15s;
            font-family: inherit;
        }
        
        @media (min-width: 768px) {
            .quiz-options { gap: 6px; margin-bottom: 10px; }
            .quiz-option { padding: 10px 14px; font-size: 14px; border-width: 2px; }
        }
        .quiz-option:hover:not(:disabled) { 
            border-color: var(--red); 
            background: #fff;
        }
        .quiz-option:disabled { cursor: not-allowed; opacity: 0.7; }
        .quiz-option.correct { 
            background: #d4edda; 
            border-color: var(--green);
            color: var(--green);
        }
        .quiz-option.wrong { 
            background: #f8d7da; 
            border-color: var(--red);
            color: var(--red);
        }
        
        .quiz-result {
            display: none;
            padding: 6px 10px;
            border-radius: 5px;
            margin-bottom: 6px;
            font-weight: 600;
            font-size: 12px;
        }
        
        @media (min-width: 768px) {
            .quiz-result { padding: 10px 14px; margin-bottom: 10px; font-size: 13px; }
        }
        .quiz-result.show { display: block; }
        .quiz-result.correct { background: #d4edda; color: #155724; }
        .quiz-result.wrong { background: #f8d7da; color: #721c24; }
        .quiz-result.timeout { background: #fff3cd; color: #856404; }
        
        .quiz-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
        }
        
        .quiz-next-btn { display: none !important; }
        .quiz-start-btn {
            background: var(--red);
            color: #fff;
            border: none;
            padding: 12px 32px;
            border-radius: 6px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            font-family: inherit;
            transition: background 0.2s;
        }
        .quiz-next-btn:hover, .quiz-start-btn:hover { background: #c0392b; }
        
        .quiz-close-btn {
            background: var(--bg-gray);
            color: var(--text);
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            font-family: inherit;
        }
        .quiz-close-btn:hover { background: var(--border); }
        
        .quiz-final {
            padding: 20px;
        }
        
        .quiz-final-score {
            font-size: 64px;
            font-weight: 700;
            color: var(--red);
            margin-bottom: 8px;
        }
        
        .quiz-final-label {
            font-size: 18px;
            color: var(--text-muted);
            margin-bottom: 24px;
        }
        
        /* Results list styling is in quiz-results-list */
        
        .quiz-map-container {
            position: fixed;
            top: 50px;
            left: 0;
            right: 0;
            bottom: 42vh;
            z-index: 10000;
            display: none;
        }
        .quiz-map-container.show { display: block; }
        
        .quiz-panel {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 42vh;
            max-height: 340px;
            background: #fff;
            z-index: 10001;
            padding: 8px 10px;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.2);
            display: none;
            overflow-y: auto;
        }
        .quiz-panel.show { display: block; }
        
        @media (min-width: 768px) {
            .quiz-map-container { bottom: 260px; }
            .quiz-panel { 
                height: auto;
                max-height: 260px;
                padding: 14px 20px; 
            }
        }
    
        .quiz-share-section {
            margin: 20px 0;
        }
        
        .quiz-share-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            border: none;
            padding: 14px 28px;
            border-radius: 30px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            font-family: inherit;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }
        
        .quiz-share-btn:hover { 
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);
        }
        
        .quiz-final-buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-top: 20px;
        }
        
        #shareImageContainer {
            margin-top: 16px;
            padding: 16px;
            background: #f8f8f8;
            border-radius: 12px;
        }
        
        .quiz-box-large {
            max-width: 550px !important;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .quiz-results-list {
            text-align: left;
            margin: 16px 0;
            max-height: 300px;
            overflow-y: auto;
            background: #f8f8f8;
            border-radius: 8px;
            padding: 8px 0;
        }
        
        .quiz-result-row {
            display: flex;
            align-items: center;
            padding: 10px 16px;
            border-bottom: 1px solid #eee;
            font-size: 15px;
        }
        
        .quiz-result-row:last-child {
            border-bottom: none;
        }
        
        .quiz-result-row:nth-child(odd) {
            background: #fff;
        }
        
        .quiz-result-icon {
            width: 24px;
            font-weight: 700;
            font-size: 16px;
        }
        
        .quiz-result-icon.correct { color: var(--green); }
        .quiz-result-icon.wrong { color: var(--red); }
        
        .quiz-result-name {
            flex: 1;
            font-weight: 600;
            color: #333;
        }
        
        .quiz-result-points {
            font-weight: 700;
            font-size: 14px;
        }
        
        .quiz-result-points.correct { color: var(--green); }
        .quiz-result-points.wrong { color: var(--red); }
        
        #shareImage {
            max-width: 100%;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }
        
        .share-actions {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 16px;
            flex-wrap: wrap;
        }
        
        .share-download-btn, .share-twitter-btn {
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            transition: all 0.2s ease;
        }
        
        .share-download-btn {
            background: #333;
            color: #fff;
        }
        
        .share-download-btn:hover {
            background: #000;
        }
        
        .share-twitter-btn {
            background: #1DA1F2;
            color: #fff;
        }
        
        .share-twitter-btn:hover {
            background: #0d8ecf;
        }
        
        .share-instructions {
            font-size: 13px;
            color: var(--text-muted);
            margin-top: 12px;
        }
        
        #shareImageContainer.show { display: block !important; }
    </style>
</head>
<body>
    <header>
        <div class="header-inner">
            <div class="logo">
                <img src="data:image/png;base64,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" alt="HoopsHype" class="logo-img">
                <span class="logo-text">Career Map</span>
            </div>
            <div class="search-wrap">
                <input type="text" id="search" placeholder="Search 5,000+ players..." autocomplete="off">
                <div id="results"></div>
            </div>
            <button class="quiz-btn" onclick="startQuiz()">üéÆ Quiz</button>
        </div>
    </header>
    
    <main>
        <div id="map">
            <div class="legend">
                <div class="legend-item"><div class="legend-dot first"></div> Start</div>
                <div class="legend-item"><div class="legend-dot mid"></div> Stop</div>
                <div class="legend-item"><div class="legend-dot last"></div> Latest</div>
            </div>
        </div>
        
        <div class="panel">
            <div class="welcome" id="welcome">
                <div class="quiz-hero">
                    <div class="quiz-hero-icon">üèÄ</div>
                    <h2>NBA Career Map Quiz</h2>
                    <p>Can you identify NBA players by their career journey?</p>
                    <div class="quiz-rules">
                        <div class="quiz-rule">üó∫Ô∏è View the career map and guess the player</div>
                        <div class="quiz-rule">‚è±Ô∏è 15 seconds per question</div>
                        <div class="quiz-rule">‚ö° Faster answers = more points (max 15 pts)</div>
                        <div class="quiz-rule">‚ùå Wrong answer or timeout = -5 points</div>
                        <div class="quiz-rule">üéØ 10 questions total</div>
                    </div>
                    <button class="quiz-hero-btn" onclick="startQuiz()">
                        <span class="play-icon">‚ñ∂</span> Play Quiz
                    </button>
                </div>
                <div class="explore-section">
                    <div class="section-title">Or Explore Players</div>
                    <div class="chips" id="welcomeChips"></div>
                </div>
            </div>
            
            <div class="player-section" id="playerSection">
                <div class="player-name" id="pName"></div>
                <div class="player-span" id="pSpan"></div>
                
                <div class="stats">
                    <div class="stat"><div class="stat-num" id="sTeams">-</div><div class="stat-lbl">Teams</div></div>
                    <div class="stat"><div class="stat-num" id="sCountries">-</div><div class="stat-lbl">Countries</div></div>
                    <div class="stat"><div class="stat-num" id="sYears">-</div><div class="stat-lbl">Years</div></div>
                    <div class="stat"><div class="stat-num" id="sStops">-</div><div class="stat-lbl">Stops</div></div>
                </div>
                
                <div class="section-title">Career Timeline</div>
                <div class="timeline" id="timeline"></div>
                
                <div class="suggestions">
                    <div class="section-title">Similar Players</div>
                    <div class="chips" id="similarChips"></div>
                </div>
            </div>
        </div>
    </main>
    
    <div class="modal-bg" id="modal">
        <div class="modal">
            <div class="modal-head">
                <h3 id="mTitle"></h3>
                <button class="modal-close" onclick="closeModal()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="modal-loc" id="mLoc"></div>
                <div class="modal-count" id="mCount"></div>
                <div id="mList"></div>
            </div>
        </div>
    </div>
    
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        const ERAS = {
            "2020s": ["Luka Donƒçiƒá","Giannis Antetokounmpo","Nikola Jokiƒá","Joel Embiid","Jayson Tatum","Ja Morant","Trae Young","Anthony Edwards","LaMelo Ball","Shai Gilgeous-Alexander"],
            "2010s": ["LeBron James","Stephen Curry","Kevin Durant","James Harden","Russell Westbrook","Kawhi Leonard","Anthony Davis","Kyrie Irving","Damian Lillard","Paul George"],
            "2000s": ["Kobe Bryant","Tim Duncan","Dirk Nowitzki","Dwyane Wade","Chris Paul","Carmelo Anthony","Kevin Garnett","Paul Pierce","Steve Nash","Ray Allen"],
            "1990s": ["Michael Jordan","Shaquille O'Neal","Hakeem Olajuwon","Karl Malone","John Stockton","Charles Barkley","Patrick Ewing","Scottie Pippen","Gary Payton","Reggie Miller"],
            "1980s": ["Magic Johnson","Larry Bird","Isiah Thomas","Dominique Wilkins","Clyde Drexler","Moses Malone","James Worthy","Robert Parish","Kevin McHale","Julius Erving"]
        };
        const ALL_STARS = Object.values(ERAS).flat();
        const PLAYERS_400_GAMES = new Set(["A.C. Green", "Aaron Brooks", "Aaron Holiday", "Aaron McKie", "Aaron Williams", "Adam Keefe", "Adonal Foyle", "Adrian Dantley", "Adrian Griffin", "Adrian Smith", "Al Harrington", "Al Horford", "Al Jefferson", "Al Wood", "Al-Farouq Aminu", "Alan Henderson", "Albert King", "Alec Burks", "Aleksandar Pavlovic", "Alex Caruso", "Alex English", "Alex Hannum", "Alex Len", "Allan Bristow", "Allen Iverson", "Allen Leavell", "Alonzo Gee", "Alonzo Mourning", "Alton Lister", "Alvin Robertson", "Alvin Williams", "Amare Stoudemire", "Amir Johnson", "Anderson Varejao", "Andray Blatche", "Andre Drummond", "Andre Iguodala", "Andre Miller", "Andrea Bargnani", "Andrei Kirilenko", "Andres Nocioni", "Andrew Bogut", "Andrew Bynum", "Andrew DeClercq", "Andrew Lang", "Andrew Wiggins", "Andris Biedrins", "Andy Phillip", "Anfernee Hardaway", "Antawn Jamison", "Anthony Bowie", "Anthony Carter", "Anthony Davis", "Anthony Johnson", "Anthony Mason", "Anthony Morrow", "Anthony Parker", "Anthony Peeler", "Anthony Tolliver", "Antoine Carr", "Antoine Walker", "Antonio Daniels", "Antonio Davis", "Antonio McDyess", "Archie Clark", "Armen Gilliam", "Armond Hill", "Arnie Risen", "Aron Baynes", "Arron Afflalo", "Art Williams", "Artis Gilmore", "Arvydas Sabonis", "Austin Carr", "Austin Croshere", "Austin Rivers", "Avery Bradley", "Avery Johnson", "BJ Armstrong", "Bailey Howell", "Baron Davis", "Barry Clemens", "Ben Gordon", "Ben McLemore", "Ben Poquette", "Ben Wallace", "Beno Udrih", "Benoit Benjamin", "Bernard King", "Bill Bridges", "Bill Calhoun", "Bill Cartwright", "Bill Laimbeer", "Bill Robinzine", "Bill Sharman", "Bill Walton", "Bill Wennington", "Bill Willoughby", "Billy Cunningham", "Billy Knight", "Billy McKinney", "Billy Owens", "Billy Paultz", "Bimbo Coles", "Bingo Smith", "Bismack Biyombo", "Bison Dele", "Blake Griffin", "Blue Edwards", "Bo Outlaw", "Bob Boozer", "Bob Dandridge", "Bob Davies", "Bob Ferry", "Bob Hansen", "Bob Harrison", "Bob Kauffman", "Bob Love", "Bob McAdoo", "Bob Rule", "Bob Sura", "Bob Weiss", "Bob Wilkerson", "Bobby Jackson", "Bobby Phills", "Bobby Portis", "Bobby Simmons", "Bogdan Bogdanovic", "Bojan Bogdanovic", "Bonzi Wells", "Boris Diaw", "Brad Davis", "Brad Lohaus", "Brad Miller", "Bradley Beal", "Brandan Wright", "Brandon Bass", "Brandon Ingram", "Brandon Jennings", "Brandon Knight", "Brandon Rush", "Brendan Haywood", "Brent Barry", "Brent Price", "Brevin Knight", "Brian Cardinal", "Brian Cook", "Brian Grant", "Brian Scalabrine", "Brian Shaw", "Brian Skinner", "Brook Lopez", "Bruce Bowen", "Bruce Brown", "Bryant Stith", "Bryn Forbes", "Bryon Russell", "Buck Johnson", "Buck Williams", "Buddy Hield", "Butch Beard", "Byron Scott", "CJ McCollum", "CJ Miles", "CJ Watson", "Calbert Cheaney", "Caldwell Jones", "Calvin Natt", "Cameron Payne", "Campy Russell", "Caris LeVert", "Carl Braun", "Carl Herrera", "Carl Landry", "Carlos Arroyo", "Carlos Boozer", "Carlos Delfino", "Carmelo Anthony", "Caron Butler", "Cazzie Russell", "Cedi Osman", "Cedric Ceballos", "Cedric Maxwell", "Chandler Parsons", "Channing Frye", "Charles Barkley", "Charles Davis", "Charles Jones (1957)", "Charles Oakley", "Charles Smith (1965)", "Charlie Criss", "Charlie Scott", "Charlie Share", "Charlie Villanueva", "Charlie Ward", "Chase Budinger", "Chauncey Billups", "Cherokee Parks", "Chris Andersen", "Chris Boucher", "Chris Childs", "Chris Dudley", "Chris Duhon", "Chris Gatling", "Chris Kaman", "Chris Mihm", "Chris Mills", "Chris Morris", "Chris Mullin", "Chris Paul", "Chris Webber", "Chris Whitney", "Chris Wilcox", "Christian Laettner", "Chuck Cooper", "Chuck Hayes", "Chuck Person", "Chucky Atkins", "Chucky Brown", "Clarence Weatherspoon", "Clem Haskins", "Clemon Johnson", "Cliff Levingston", "Cliff Robinson", "Clifford Robinson", "Clint Capela", "Clyde Lee", "Clyde Lovellette", "Coby Dietrick", "Cody Zeller", "Collin Sexton", "Connie Dierking", "Connie Hawkins", "Connie Simmons", "Corey Brewer", "Corey Maggette", "Corie Blount", "Corky Calhoun", "Corliss Williamson", "Cornell Warner", "Cory Joseph", "Courtney Lee", "Craig Ehlo", "Craig Hodges", "Craig Smith", "Curtis Perry", "Cuttino Mobley", "D'Angelo Russell", "DJ Augustin", "Dahntay Jones", "Dale Davis", "Dale Ellis", "Dale Schlueter", "Damian Lillard", "Damien Wilkins", "Damon Jones", "Damon Stoudamire", "Dan Gadzuric", "Dan Majerle", "Dan Roundfield", "Dana Barros", "Daniel Theis", "Danilo Gallinari", "Danny Ainge", "Danny Ferry", "Danny Fortson", "Danny Granger", "Danny Green", "Danny Manning", "Danny Schayes", "Danny Vranes", "Danny Young", "Dante Cunningham", "Dario Saric", "Darius Miles", "Darius Songaila", "Darko Milicic", "Darnell Valentine", "Darrall Imhoff", "Darrell Armstrong", "Darrell Walker", "Darren Collison", "Darrick Martin", "Darryl Dawkins", "Darvin Ham", "Darwin Cook", "Dave Bing", "Dave Corzine", "Dave Gambee", "Dave Greenwood", "Dave Piontek", "Dave Robisch", "Dave Stallworth", "Dave Wohl", "David Benoit", "David Lee", "David Wesley", "David West", "David Wingate", "David Wood", "Davis Bertans", "DeAndre Jordan", "DeJuan Blair", "DeMar DeRozan", "DeMarcus Cousins", "DeMarre Carroll", "DeSagana Diop", "DeShawn Stevenson", "Dean Meminger", "Dee Brown (1968)", "Dejounte Murray", "Dell Curry", "Delon Wright", "Delonte West", "Dennis Awtrey", "Dennis Johnson", "Dennis Rodman", "Dennis Schroeder", "Dennis Scott", "Derek Anderson", "Derek Fisher", "Derek Harper", "Derek Smith", "Derek Strong", "Deron Williams", "Derrick Coleman", "Derrick Favors", "Derrick Jones", "Derrick McKey", "Derrick Rose", "Derrick White", "Derrick Williams", "Desmond Mason", "Detlef Schrempf", "Devean George", "Devin Brown", "Devin Harris", "Dewayne Dedmon", "Dick Barnett", "Dick Snyder", "Dikembe Mutombo", "Dillon Brooks", "Dion Waiters", "Doc Rivers", "Domantas Sabonis", "Dominique Wilkins", "Don Adams", "Don Buse", "Don Chaney", "Don Ford", "Don Kojis", "Don Nelson", "Don Ohl", "Don Reid", "Donald Royal", "Donte DiVincenzo", "Donyell Marshall", "Dorell Wright", "Dorian Finney-Smith", "Doug Christie", "Doug McDermott", "Doug Overton", "Drew Gooden", "Duane Ferrell", "Dudley Bradley", "Duncan Robinson", "Dwight Howard", "Dwight Jones", "Dwight Powell", "Dwyane Wade", "E'Twaun Moore", "Earl Boykins", "Earl Cureton", "Earl Lloyd", "Earl Watson", "Ed Conlin", "Ed Davis", "Ed Macauley", "Ed Nealy", "Ed Pinckney", "Eddie House", "Eddie Johnson", "Eddie Jones", "Eddie Jordan", "Eddie Miles", "Eddy Curry", "Eduardo Najera", "Elden Campbell", "Elfrid Payton", "Elliot Perry", "Elmore Smith", "Elston Turner", "Elton Brand", "Elvin Hayes", "Emeka Okafor", "Emmette Bryant", "Enes Kanter", "Eric Bledsoe", "Eric Gordon", "Eric Leckner", "Eric Money", "Eric Montross", "Eric Murdock", "Eric Piatkowski", "Eric Snow", "Eric Williams", "Erick Dampier", "Erick Strickland", "Ernie Grunfeld", "Ersan Ilyasova", "Ervin Johnson", "Erwin Mueller", "Etan Thomas", "Evan Fournier", "Evan Turner", "Fat Lever", "Felton Spencer", "Flynn Robinson", "Francisco Elson", "Francisco Garcia", "Frank Brickowski", "Frank Johnson", "Frank Kaminsky", "Frank Selvy", "Frankie Brian", "Fred Carter", "Fred Foster", "Fred Hetzel", "Fred Hoiberg", "Fred Jones", "Fred Roberts", "Fred Scolari", "Fred VanVleet", "Gail Goodrich", "Gar Heard", "Garrett Temple", "Gary Grant", "Gary Harris", "Gary Payton", "Gary Trent", "Gary Trent Jr", "Gene Banks", "Gene Shue", "Geoff Huston", "George Gervin", "George Hill", "George Johnson (1948)", "George Johnson (1956)", "George King (1928)", "George Lynch", "George McCloud", "George McGinnis", "George Wilson", "George Yardley", "Georges Niang", "Gerald Green", "Gerald Henderson", "Gerald Henderson Sr", "Gerald Wallace", "Gerald Wilkins", "Gilbert Arenas", "Glen Davis", "Glen Gondrezick", "Glen Rice", "Glenn Robinson", "Goran Dragic", "Gordon Hayward", "Gorgui Dieng", "Grant Hill", "Grant Long", "Grayson Allen", "Greg Anderson", "Greg Anthony", "Greg Ballard", "Greg Buckner", "Greg Dreiling", "Greg Foster", "Greg Kite", "Greg Monroe", "Greg Ostertag", "Greg Smith (1947)", "Greivis Vasquez", "Gus Johnson", "Gus Williams", "Guy Rodgers", "Hakim Warrick", "Hank Finkel", "Happy Hairston", "Harrison Barnes", "Harvey Catchings", "Harvey Grant", "Hassan Whiteside", "Henry Bibby", "Herb Williams", "Herm Gilliam", "Hersey Hawkins", "Hidayet Turkoglu", "Horace Grant", "Hot Rod Williams", "Howard Eisley", "Howard Komives", "Howard Porter", "Hub Reed", "Hubert Davis", "Ian Mahinmi", "Iman Shumpert", "Isaac Austin", "Isaiah Rider", "Isaiah Thomas", "Ishmael Smith", "Ivica Zubac", "J.R. Reid", "JJ Hickson", "JJ Redick", "JR Smith", "JaMychal Green", "JaVale McGee", "Jack Marin", "Jack Nichols", "Jacque Vaughn", "Jae Crowder", "Jake Voskuhl", "Jakob Poeltl", "Jalen Rose", "Jamaal Magloire", "Jamaal Tinsley", "Jamaal Wilkes", "Jamal Crawford", "Jamal Mashburn", "Jameer Nelson", "James Bailey", "James Donaldson", "James Edwards", "James Harden", "James Johnson", "James Jones", "James Posey", "Jan Van Breda Kolff", "Jannero Pargo", "Jared Dudley", "Jared Jeffries", "Jaren Jackson", "Jarrett Jack", "Jarron Collins", "Jarvis Hayes", "Jason Caffey", "Jason Collins", "Jason Kapono", "Jason Kidd", "Jason Maxiell", "Jason Richardson", "Jason Smith", "Jason Terry", "Jason Thompson", "Jason Williams", "Jay Humphries", "Jay Vincent", "Jayson Williams", "Jeff Cook", "Jeff Grayer", "Jeff Green", "Jeff Hornacek", "Jeff Malone", "Jeff McInnis", "Jeff Teague", "Jeff Turner", "Jeff Wilkins", "Jerami Grant", "Jeremy Lamb", "Jeremy Lin", "Jermaine O'Neal", "Jerome Kersey", "Jerome Whitehead", "Jerome Williams", "Jerry Lucas", "Jerry Reynolds", "Jerry Sichting", "Jerry Stackhouse", "Jerryd Bayless", "Jevon Carter", "Jim Barnes", "Jim Barnett", "Jim Brewer", "Jim Chones", "Jim Cleamons", "Jim Davis", "Jim Fox", "Jim Jackson", "Jim King", "Jim McElroy", "Jim McIlvaine", "Jim McMillian", "Jim Petersen", "Jim Price", "Jim Washington", "Jimmy Butler", "Jimmy Walker", "Jo Jo White", "Joakim Noah", "Jodie Meeks", "Joe Barry Carroll", "Joe Bryant", "Joe Caldwell", "Joe Graboski", "Joe Harris", "Joe Ingles", "Joe Johnson", "Joe Kleine", "Joe Meriweather", "Joe Smith", "Joe Wolf", "Joel Anthony", "Joel Przybilla", "Johan Petro", "John Bagley", "John Barnhill", "John Block", "John Brown", "John Collins", "John Crotty", "John Drew", "John Gianelli", "John Henson", "John Johnson", "John Lambert", "John Long", "John Mahnken", "John Mengelt", "John Salley", "John Salmons", "John Starks", "John Tresvant", "John Wall", "John Williams", "Johnny Davis (1955)", "Johnny Dawkins", "Johnny Egan", "Johnny Green", "Johnny Moore", "Johnny Newman", "Jon Barry", "Jon McGlocklin", "Jon Sundvold", "Jonas Jerebko", "Jonas Valanciunas", "Jordan Clarkson", "Jordan Farmar", "Jordan Hill", "Jordan Poole", "Jose Calderon", "Jose Juan Barea", "Josh Hart", "Josh Howard", "Josh McRoberts", "Josh Okogie", "Josh Richardson", "Josh Smith", "Jrue Holiday", "Juan Dixon", "Jud Buechler", "Julius Erving", "Julius Randle", "Jumaine Jones", "Junior Bridgeman", "Justin Holiday", "Jusuf Nurkic", "Juwan Howard", "Kawhi Leonard", "Keith Bogans", "Keith Erickson", "Keith Van Horn", "Kelly Olynyk", "Kelly Oubre", "Kelly Tripucka", "Kelvin Cato", "Kelvin Ransey", "Kemba Walker", "Ken Norman", "Kendall Gill", "Kendrick Perkins", "Kenneth Faried", "Kenny Anderson", "Kenny Carr", "Kenny Gattison", "Kenny Sears", "Kenny Smith", "Kenny Thomas", "Kenny Walker", "Kent Bazemore", "Kent Benson", "Kentavious Caldwell-Pope", "Kenyon Martin", "Kermit Washington", "Kevin Duckworth", "Kevin Durant", "Kevin Edwards", "Kevin Gamble", "Kevin Garnett", "Kevin Huerter", "Kevin Kunnert", "Kevin Loughery", "Kevin Love", "Kevin Martin", "Kevin Ollie", "Kevin Porter (1950)", "Kevin Restani", "Kevin Seraphin", "Kevin Willis", "Kevon Looney", "Keyon Dooling", "Khris Middleton", "Kiki Vandeweghe", "Kirk Hinrich", "Kosta Koufos", "Kris Dunn", "Kris Humphries", "Kristaps Porzingis", "Kurt Nimphius", "Kurt Rambis", "Kurt Thomas", "Kwame Brown", "Kyle Anderson", "Kyle Korver", "Kyle Kuzma", "Kyle Lowry", "Kyle Macy", "Kyle O'Quinn", "Kyrie Irving", "LaMarcus Aldridge", "LaPhonso Ellis", "LaSalle Thompson", "Lamar Odom", "Lamond Murray", "Lance Stephenson", "Langston Galloway", "Larry Costello", "Larry Drew", "Larry Foust", "Larry Hughes", "Larry Kenon", "Larry Krystkowiak", "Larry Nance Jr", "Larry Siegfried", "Larry Smith", "Latrell Sprewell", "Lauri Markkanen", "LeBron James", "Leandro Barbosa", "Ledell Eackles", "Lee Winfield", "Len Chappell", "Len Elmore", "Lenny Wilkens", "Leon Douglas", "Leroy Ellis", "Lester Conner", "Lew Hitch", "Linas Kleiza", "Lindsey Hunter", "Lionel Hollins", "Lonnie Shelton", "Lorenzen Wright", "Louis Amundson", "Louis Williams", "Loy Vaught", "Luc Longley", "Luc Mbah a Moute", "Lucious Harris", "Lucius Allen", "Luis Scola", "Luka Doncic", "Luke Kennard", "Luke Ridnour", "Luol Deng", "M.L. Carr", "Magic Johnson", "Mahmoud Abdul-Rauf", "Malcolm Brogdon", "Malik Allen", "Malik Beasley", "Malik Monk", "Malik Rose", "Malik Sealy", "Manu Ginobili", "Manute Bol", "Marc Gasol", "Marc Iavaroni", "Marcin Gortat", "Marco Belinelli", "Marcus Camby", "Marcus Morris", "Marcus Smart", "Marcus Thornton", "Mario Chalmers", "Mario Elie", "Mark Aguirre", "Mark Blount", "Mark Bryant", "Mark Jackson", "Mark Landsberger", "Mark Olberding", "Mark Price", "Mark West", "Markieff Morris", "Marko Jaric", "Marques Johnson", "Marquis Daniels", "Marreese Speights", "Martell Webster", "Marvin Webster", "Marvin Williams", "Mason Plumlee", "Matt Barnes", "Matt Bonner", "Matt Bullard", "Matt Carroll", "Matt Geiger", "Matt Guokas", "Matt Harpring", "Matthew Dellavedova", "Maurice Cheeks", "Maurice Evans", "Maurice Lucas", "Maurice Taylor", "Maurice Williams", "Max Zaslofsky", "Maxi Kleber", "McCoy McLemore", "Mehmet Okur", "Mel Counts", "Mel Hutchins", "Metta World Peace", "Meyers Leonard", "Michael Adams", "Michael Beasley", "Michael Cage", "Michael Curry", "Michael Doleac", "Michael Finley", "Michael Olowokandi", "Michael Ruffin", "Michael Smith (1972)", "Micheal Ray Richardson", "Micheal Williams", "Mickael Pietrus", "Mickey Johnson", "Mikal Bridges", "Mike Bantom", "Mike Bibby", "Mike Bratz", "Mike Brown (1963)", "Mike Conley", "Mike Dunleavy Sr", "Mike Evans", "Mike Farmer", "Mike Gale", "Mike Glenn", "Mike Gminski", "Mike James (1975)", "Mike McGee", "Mike Miller", "Mike Mitchell", "Mike Muscala", "Mike Newlin", "Mike O'Koren", "Mike Riordan", "Mike Sanders", "Mike Scott", "Mike Woodson", "Mikki Moore", "Milt Palacio", "Mitch Richmond", "Moe Harkless", "Monta Ellis", "Monte Morris", "Montrezl Harrell", "Monty Williams", "Moochie Norris", "Mookie Blaylock", "Morris Peterson", "Moses Malone", "Muggsy Bogues", "Mychal Thompson", "Nat Clifton", "Nate Robinson", "Nate Thurmond", "Nate Williams", "Nazr Mohammed", "Neal Walk", "Nemanja Bjelica", "Nenad Krstic", "Nen\u00ea", "Nerlens Noel", "Nick Anderson", "Nick Van Exel", "Nick Weatherspoon", "Nick Young", "Nicolas Batum", "Nikola Vucevic", "Norm Nixon", "Norm Van Lier", "Norman Powell", "OJ Mayo", "Odie Spears", "Olden Polynice", "Oliver Miller", "Ollie Johnson", "Omer Asik", "Omri Casspi", "Orlando Woolridge", "Othella Harrington", "Otis Birdsong", "Otis Thorpe", "Otto Moore", "Otto Porter", "PJ Brown", "PJ Tucker", "Pascal Siakam", "Pat Connaughton", "Pat Cummings", "Pat Riley", "Patrick Beverley", "Patrick Ewing", "Patrick Mills", "Patrick Patterson", "Pau Gasol", "Paul Arizin", "Paul George", "Paul Millsap", "Paul Mokeski", "Paul Neumann", "Paul Pierce", "Paul Pressey", "Paul Seymour", "Paul Silas", "Paul Westphal", "Pervis Ellison", "Pete Chilcutt", "Pete Maravich", "Phil Chenier", "Phil Ford", "Phil Jordon", "Phil Smith", "Pooh Richardson", "Popeye Jones", "Predrag Stojakovic", "Purvis Short", "Quentin Richardson", "Quinn Buckner", "Quintin Dailey", "Quinton Ross", "Radoslav Nesterovic", "Raef LaFrentz", "Rafer Alston", "Raja Bell", "Rajon Rondo", "Ralph Sampson", "Ramon Sessions", "Randy Breuer", "Randy Brown", "Randy Foye", "Randy Smith", "Randy Wittman", "Rashard Lewis", "Rasheed Wallace", "Rasual Butler", "Raul Neto", "Ray Allen", "Ray Felix", "Ray Scott", "Ray Williams", "Raymond Felton", "Red Rocha", "Reggie Bullock", "Reggie Evans", "Reggie Jackson", "Reggie King", "Reggie Theus", "Reggie Williams (1964)", "Rex Chapman", "Rich Kelley", "Richard Anderson", "Richard Hamilton", "Richard Jefferson", "Richaun Holmes", "Rick Adelman", "Rick Barry", "Rick Mahorn", "Rick Roberson", "Rick Robey", "Rickey Green", "Ricky Davis", "Ricky Pierce", "Ricky Rubio", "Ricky Sobers", "Robert Covington", "Robert Horry", "Robert Pack", "Robert Parish", "Robert Reid", "Robert Traylor", "Robin Lopez", "Rod Higgins", "Rod Strickland", "Rod Thorn", "Rodney Hood", "Rodney McCray", "Rodney Rogers", "Roger Mason", "Rolando Blackman", "Ron Anderson", "Ron Brewer", "Ron Harper", "Ron Lee", "Ron Mercer", "Ron Williams", "Ronald Murray", "Ronnie Brewer", "Ronnie Price", "Ronny Turiaf", "Rony Seikaly", "Rory Sparrow", "Roy Hibbert", "Roy Hinson", "Royal Ivey", "Royce O'Neale", "Ruben Patterson", "Rudy Gay", "Rudy Gobert", "Russell Westbrook", "Ryan Anderson", "Ryan Bowen", "Ryan Gomes", "Ryan Hollins", "Sam Bowie", "Sam Cassell", "Sam Lacey", "Sam Mitchell", "Sam Perkins", "Samaki Walker", "Samuel Dalembert", "Sasha Vujacic", "Scot Pollard", "Scott Brooks", "Scott Hastings", "Scott Padgett", "Scott Skiles", "Scott Wedman", "Scott Williams", "Scottie Pippen", "Sean Elliott", "Sean Rooks", "Sebastian Telfair", "Sedale Threatt", "Serge Ibaka", "Seth Curry", "Shandon Anderson", "Shane Battier", "Shannon Brown", "Shaquille O'Neal", "Shareef Abdur-Rahim", "Shaun Livingston", "Shawn Bradley", "Shawn Kemp", "Shawn Marion", "Shelvin Mack", "Sherman Douglas", "Si Green", "Sidney Green", "Sidney Wicks", "Slater Martin", "Sleepy Floyd", "Slick Watts", "Solomon Hill", "Spencer Dinwiddie", "Spencer Hawes", "Spencer Haywood", "Spud Webb", "Stacey Augmon", "Stacey King", "Stanley Johnson", "Stephen Jackson", "Stephon Marbury", "Steve Blake", "Steve Colter", "Steve Francis", "Steve Hawes", "Steve Johnson", "Steve Kerr", "Steve Kuberski", "Steve Mix", "Steve Nash", "Steve Novak", "Steve Smith", "Steven Adams", "Steven Hunter", "Stromile Swift", "Stu Lantz", "Swen Nater", "T.R. Dunn", "TJ Ford", "Taj Gibson", "Taurean Prince", "Tayshaun Prince", "Terance Mann", "Terrell Brandon", "Terrence Ross", "Terry Catledge", "Terry Cummings", "Terry Davis", "Terry Dehere", "Terry Dischinger", "Terry Mills", "Terry Porter", "Terry Rozier", "Terry Teagle", "Terry Tyler", "Thabo Sefolosha", "Thaddeus Young", "Theo Ratliff", "Thurl Bailey", "Tim Hardaway", "Tim Hardaway Jr", "Tim McCormick", "Tim Perry", "Tim Thomas", "Timofey Mozgov", "Tiny Archibald", "Tobias Harris", "Toby Kimball", "Todd Day", "Tom Burleson", "Tom Chambers", "Tom Gugliotta", "Tom Hammonds", "Tom Hawkins", "Tom Henderson", "Tom McMillen", "Tom Owens", "Tom Van Arsdale", "Toni Kukoc", "Tony Allen", "Tony Battie", "Tony Campbell", "Tony Delk", "Tony Massenburg", "Tony Parker", "Tony Smith", "Tony Snell", "Torrey Craig", "Tracy McGrady", "Tracy Murray", "Travis Best", "Travis Outlaw", "Tree Rollins", "Trent Tucker", "Trenton Hassell", "Trevor Ariza", "Trevor Booker", "Trey Burke", "Trey Lyles", "Tristan Thompson", "Troy Hudson", "Troy Murphy", "Truck Robinson", "Ty Lawson", "Tyler Hansbrough", "Tyler Zeller", "Tyreke Evans", "Tyrone Corbin", "Tyrone Hill", "Tyronn Lue", "Tyrus Thomas", "Tyson Chandler", "Tyus Jones", "Vern Fleming", "Vernon Maxwell", "Victor Oladipo", "Vin Baker", "Vince Carter", "Vincent Askew", "Vinnie Johnson", "Vinny Del Negro", "Vitaly Potapenko", "Vlade Divac", "Vladimir Radmanovic", "Voshon Lenard", "Wali Jones", "Wally Szczerbiak", "Wally Walker", "Walt Bellamy", "Walt Hazzard", "Walt Wesley", "Walt Williams", "Walter Davis", "Walter Dukes", "Walter McCarty", "Wayman Tisdale", "Wayne Cooper", "Wayne Ellington", "Wayne Embry", "Wes Matthews", "Wesley Johnson", "Wesley Matthews", "Wesley Person", "Will Barton", "Will Perdue", "Willie Anderson", "Willie Cauley-Stein", "Willie Green", "Willie Naulls", "Willie Norwood", "Wilson Chandler", "Wilt Chamberlain", "Winston Garland", "Woody Sauldsberry", "World B. Free", "Xavier McDaniel", "Zach LaVine", "Zach Randolph", "Zaid Abdul-Aziz", "Zaza Pachulia", "Zelmo Beaty", "Zydrunas Ilgauskas"]);
        // IMPORTANT: Replace this URL with your Google Apps Script Web App URL
        const SCORE_API_URL = 'https://script.google.com/macros/s/AKfycbxwQwmDmyKnGqfZtO-rc4Bf51nMu-dSoeSnGmmNSNv6eiEdkyFkXs87Z4zUtFfRvG_G/exec';
        
        const STARTUP_PLAYERS = ["Vince Carter", "Kevin Willis", "Jason Terry", "Jason Kidd", "Clifford Robinson", "Chris Paul", "Gary Payton", "Moses Malone", "Jamal Crawford", "Andre Miller", "Mark Jackson", "Derek Fisher", "Charles Oakley", "A.C. Green", "Joe Johnson", "Carmelo Anthony", "Otis Thorpe", "Paul Silas", "Dwight Howard", "Russell Westbrook", "Kyle Korver", "Andre Iguodala", "Pau Gasol", "Jeff Green", "Dale Ellis", "Juwan Howard", "Shaquille O'Neal", "Derek Harper", "Eddie Johnson", "Dikembe Mutombo", "Alex English", "Terry Cummings", "Richard Jefferson", "Scottie Pippen", "Kyle Lowry", "Thaddeus Young", "James Edwards", "Horace Grant", "Shawn Marion", "Tyson Chandler", "Johnny Newman", "Tree Rollins", "Jerome Kersey", "James Harden", "Michael Cage", "Al Horford", "Danny Schayes", "Vlade Divac", "Nicolas Batum", "Kevin Durant", "Louis Williams", "Rudy Gay", "Trevor Ariza", "Rick Mahorn", "Zach Randolph", "DeAndre Jordan", "Kurt Thomas", "Rasheed Wallace", "Tom Chambers", "Herb Williams", "Maurice Cheeks", "Zaza Pachulia", "Dale Davis", "Rod Strickland", "Mark West", "PJ Brown", "Ben Wallace", "Paul Millsap", "Antawn Jamison", "Dell Curry", "Dominique Wilkins", "Byron Scott", "Caldwell Jones", "Tyrone Corbin", "Boris Diaw", "Elton Brand", "Olden Polynice", "Johnny Green", "Manu Ginobili", "Avery Johnson", "Leroy Ellis", "Wilt Chamberlain", "Elden Campbell", "Chauncey Billups", "Walt Bellamy", "Jrue Holiday", "Mike Miller", "Joe Smith", "Reggie Theus", "Tayshaun Prince", "Antonio McDyess", "Jermaine O'Neal", "Nazr Mohammed", "Grant Long", "Taj Gibson", "Mike Bibby", "Stacey Augmon", "Glen Rice", "Hidayet Turkoglu", "Sam Mitchell", "Sam Cassell", "Robin Lopez", "Metta World Peace", "Antoine Carr", "Erick Dampier", "Wesley Matthews", "Devin Harris", "LaSalle Thompson", "Wayne Cooper", "Hersey Hawkins", "Al Harrington", "Rolando Blackman", "JR Smith", "DJ Augustin", "Randy Smith", "Marcus Camby", "Raymond Felton", "Jerry Stackhouse", "Tobias Harris", "Ricky Pierce", "Kendall Gill", "Joe Kleine", "Dick Snyder", "Brad Davis", "Lamar Odom", "Donyell Marshall", "James Donaldson", "Rajon Rondo", "Sleepy Floyd", "Adrian Dantley", "Eddie Jones", "Alton Lister", "Sedale Threatt", "David Wesley", "Goran Dragic", "Rickey Green", "Chuck Person", "Brian Shaw", "Steve Smith", "JJ Redick", "Tracy McGrady", "Jonas Valanciunas", "Lindsey Hunter", "Armen Gilliam", "Matt Barnes", "Tom Van Arsdale", "Thurl Bailey", "Bill Bridges", "Eric Gordon", "Jalen Rose", "Patrick Mills", "Robert Reid", "Serge Ibaka", "Al Jefferson", "Clarence Weatherspoon", "George Hill", "Allen Iverson", "Bo Outlaw", "Brent Barry", "Kentavious Caldwell-Pope", "Dennis Rodman", "Steve Kerr", "Artis Gilmore", "JaVale McGee", "Jeff Malone", "Andre Drummond", "Jared Dudley", "Mickey Johnson", "Antonio Davis", "Luol Deng", "John Salmons", "Jose Calderon", "Josh Smith", "Antoine Walker", "John Long", "Dave Corzine", "Marc Gasol", "Channing Frye", "Muggsy Bogues", "Chris Dudley", "Hot Rod Williams", "PJ Tucker", "Samuel Dalembert", "World B. Free", "Jim Jackson", "Reggie Jackson", "Anthony Mason", "Danny Manning", "Caron Butler", "Kurt Rambis", "Nick Van Exel", "Kirk Hinrich", "Earl Watson", "Jameer Nelson", "Bernard King", "Bob Boozer", "Bruce Bowen", "Craig Ehlo", "Antonio Daniels", "Gerald Henderson Sr", "Terry Tyler", "Amir Johnson", "Steve Blake", "Xavier McDaniel", "Jimmy Butler", "Thabo Sefolosha", "Brad Miller", "Christian Laettner", "Bismack Biyombo", "Jarrett Jack", "Tim Hardaway", "Cory Joseph", "John Starks", "Rodney Rogers", "Mark Olberding", "James Posey", "Carlos Boozer", "Marco Belinelli", "Mason Plumlee", "Kenny Anderson", "Stephen Jackson", "Jason Richardson", "Maurice Lucas", "Vernon Maxwell", "Bimbo Coles", "Bob McAdoo", "Orlando Woolridge", "Dana Barros", "Leandro Barbosa", "CJ Miles", "Amare Stoudemire", "Stephon Marbury", "Toni Kukoc", "Deron Williams", "Ervin Johnson", "Joe Graboski", "Dennis Schroeder", "Bryon Russell", "Darrell Armstrong", "Tony Battie", "Rory Sparrow", "Baron Davis", "Shaun Livingston", "Danny Green", "Gerald Wallace", "Marcus Morris", "Beno Udrih", "Chris Webber", "Jose Juan Barea", "Cliff Levingston", "Luke Ridnour", "David Lee", "Anthony Peeler", "Corey Maggette", "Doug Christie", "Jeff Teague", "Calbert Cheaney", "Ersan Ilyasova", "DeShawn Stevenson", "Tim Thomas", "Dave Greenwood", "George Johnson (1948)", "Paul Westphal", "Corliss Williamson", "Jon Barry", "Ricky Sobers", "Corey Brewer", "Tristan Thompson", "Fred Roberts", "Maurice Williams", "Cazzie Russell", "Don Kojis", "Rich Kelley", "Spud Webb", "Tim Hardaway Jr", "Jae Crowder", "Courtney Lee", "Radoslav Nesterovic", "Theo Ratliff", "Rasual Butler", "Reggie Evans", "Benoit Benjamin", "Marcin Gortat", "Ishmael Smith", "Predrag Stojakovic", "Greg Ballard", "Darrall Imhoff", "Tyrone Hill", "Kelly Olynyk", "Kris Humphries", "Andrei Kirilenko", "Mark Bryant", "Rick Barry", "Anthony Johnson", "Ed Pinckney", "Alec Burks", "George Gervin", "Markieff Morris", "Vin Baker", "Barry Clemens", "Derrick Favors", "Drew Gooden", "Bob Love", "Mel Counts", "Jason Williams", "Gar Heard", "Steve Mix", "Howard Eisley", "James Johnson", "Mike Woodson", "Bob Weiss", "Quentin Richardson", "Kendrick Perkins", "Derrick Coleman", "Alvin Robertson", "Lorenzen Wright", "Rod Higgins", "Danilo Gallinari", "Jacque Vaughn", "George Lynch"];
        
        const COORDS = {"'s-Hertogenbosch||Netherlands":[51.6978,5.3037],"Aalst||Belgium":[50.9378,4.0384],"Aarhus||Denmark":[56.1629,10.2039],"Abadan||Iran":[30.3392,48.3043],"Abidjan||Ivory Coast":[5.36,-4.0083],"Achrafieh||Beirut":[33.8897,35.5178],"Adelaide|South Australia|Australia":[-34.9285,138.6007],"Adelaide||Australia":[-34.9285,138.6007],"Afyonkarahisar||Turkey":[38.7312,30.5387],"Aguada||Puerto Rico":[18.3805,-67.1877],"Aguadilla||Puerto Rico":[18.4274,-67.1541],"Aguascalientes City||Mexico":[21.8853,-102.2916],"Ahvaz||Iran":[31.3183,48.6706],"Aibonito||Puerto Rico":[18.1406,-66.2666],"Akita||Akita":[39.72,140.1025],"Akranes||Iceland":[64.3183,-22.05],"Akron|Ohio|USA":[41.0814,-81.519],"Al-Rayyan||Qatar":[25.2919,51.4244],"Albany|New York|USA":[42.6526,-73.7562],"Albuquerque|New Mexico|USA":[35.0844,-106.6504],"Alexandria||Egypt":[31.2001,29.9187],"Alicante||Valencian Community":[38.3452,-0.481],"Allentown|Pennsylvania|USA":[40.6084,-75.4902],"Alvik||Sweden":[59.3344,17.9803],"Alytus||Lithuania":[54.3963,24.0459],"Amaliada||Greece":[37.7939,21.3517],"Amarillo|Texas|USA":[35.222,-101.8313],"Amchit||Lebanon":[34.1483,35.6381],"Amman||Jordan":[31.9454,35.9284],"Amol||Iran":[36.4686,52.3506],"Amstelveen||Netherlands":[52.3114,4.872],"Amsterdam||Netherlands":[52.3676,4.9041],"Anchorage|Alaska|USA":[61.2181,-149.9003],"Andorra la Vella||Andorra":[42.5063,1.5218],"Andorra||Spain":[42.5063,1.5218],"Ankara||Turkey":[39.9334,32.8597],"Antalya||Turkey":[36.8969,30.7133],"Antibes||France":[43.5808,7.1239],"Antwerp||Belgium":[51.2213,4.4051],"Anyang||South Korea":[37.3943,126.9568],"Arecibo||Puerto Rico":[18.4725,-66.7156],"Ashdod||Israel":[31.7914,34.6494],"Ashkelon||Israel":[31.6658,34.5664],"Astana||Kazakhstan":[51.1694,71.4491],"Athens||Greece":[37.9838,23.7275],"Atlanta|Georgia|USA":[33.749,-84.388],"Auburn Hills|Michigan|USA":[42.6875,-83.2341],"Auckland||New Zealand":[-36.8509,174.7645],"Augusta|Georgia|USA":[33.4735,-81.9748],"Austin|Texas|USA":[30.2672,-97.7431],"Aveiro||Portugal":[40.6405,-8.6538],"Avellino||Italy":[40.9146,14.7906],"Azpeitia||Spain":[43.1833,-2.2667],"Baabda||Lebanon":[33.8333,35.5333],"Babol||Iran":[36.5514,52.6797],"Bad Honnef||Germany":[50.6422,7.2278],"Badalona||Spain":[41.45,2.2475],"Baghdad||Iraq":[33.3128,44.3615],"Bagnolet||France":[48.8683,2.4189],"Bah√≠a Blanca||Argentina":[-38.7196,-62.2724],"Baku||Azerbaijan":[40.4093,49.8671],"Ballerup||Denmark":[55.7317,12.3633],"Baltimore|Maryland|USA":[39.2904,-76.6122],"Balƒ±kesir||Turkey":[39.6484,27.8826],"Bamberg||Germany":[49.8988,10.9028],"Bandar Abbas||Iran":[27.1865,56.2808],"Bandung||Indonesia":[-6.9175,107.6191],"Bandƒ±rma||Turkey":[40.3522,27.9768],"Bangkok||Thailand":[13.7563,100.5018],"Banja Luka||Republika":[44.7722,17.191],"Barcellona Pozzo di Gotto||Italy":[38.1458,15.2136],"Barcelona||Catalonia":[41.3851,2.1734],"Barcelona||Spain":[41.3851,2.1734],"Barquisimeto||Venezuela":[10.0678,-69.3467],"Barranquilla||Colombia":[10.9685,-74.7813],"Batangas||Philippines":[13.7565,121.0583],"Baton Rouge|Louisiana|USA":[30.4515,-91.1871],"Baunach||Germany":[49.9847,10.8481],"Bayam√≥n||Puerto Rico":[18.3988,-66.1554],"Bayreuth||Germany":[49.9456,11.5713],"Beijing||China":[39.9042,116.4074],"Beirut||Lebanon":[33.8938,35.5018],"Bela Vista||Brazil":[-22.1086,-56.5214],"Belgrade||Serbia":[44.7866,20.4489],"Belgrade||Serbia and Montenegro":[44.7866,20.4489],"Belle Vue||Manchester":[53.4637,-2.195],"Bellinzona||Switzerland":[46.1958,9.024],"Belo Horizonte||Brazil":[-19.9167,-43.9345],"Bendigo||Victoria":[-36.757,144.2794],"Benghazi||Libya":[32.1167,20.0667],"Berlin||Germany":[52.52,13.405],"Beykoz||Turkey":[41.1167,29.1],"Biella||Italy":[45.5628,8.0511],"Bilbao||Spain":[43.263,-2.935],"Billings|Montana|USA":[45.7833,-108.5007],"Birmingham|Alabama|USA":[33.5186,-86.8104],"Bismarck|North Dakota|USA":[46.8083,-100.7837],"Blois||France":[47.5861,1.3359],"Bodrum||Turkey":[37.0344,27.4305],"Boise|Idaho|USA":[43.615,-116.2023],"Bologna||Italy":[44.4949,11.3426],"Bonn||Germany":[50.7374,7.0982],"Bordeaux||France":[44.8378,-0.5792],"Boston|Massachusetts|USA":[42.3601,-71.0589],"Botevgrad||Bulgaria":[42.9086,23.7906],"Boulazac||France":[45.1858,0.7678],"Boulogne-sur-Mer||France":[50.7264,1.6147],"Bourg-en-Bresse||France":[46.2056,5.2256],"Braine-l'Alleud||Belgium":[50.6839,4.3678],"Brampton||Canada":[43.7315,-79.7624],"Bras√≠lia||Brazil":[-15.7942,-47.8822],"Braunschweig||Germany":[52.2689,10.5268],"Bremerhaven||Germany":[53.5396,8.5809],"Brescia||Italy":[45.5416,10.2118],"Brighton||Sussex":[50.8225,-0.1372],"Brindisi||Italy":[40.6327,17.9419],"Brisbane|Queensland|Australia":[-27.4698,153.0251],"Brisbane||Australia":[-27.4698,153.0251],"Brooklyn|New York|USA":[40.6782,-73.9442],"Brussels||Belgium":[50.8503,4.3517],"Bucharest||Romania":[44.4268,26.1025],"Bucure»ôti||Romania":[44.4268,26.1025],"Budapest||Hungary":[47.4979,19.0402],"Buduƒánost||Montenegro":[42.4304,19.2594],"Buenos Aires||Argentina":[-34.6037,-58.3816],"Buffalo|New York|USA":[42.8864,-78.8784],"Bujumbura||Burundi":[-3.3614,29.3599],"Burgos||Spain":[42.344,-3.6969],"Burlington|Vermont|USA":[44.4759,-73.2121],"Bursa||Turkey":[40.1885,29.061],"Busan||South Korea":[35.1796,129.0756],"Byblos||Lebanon":[34.1236,35.6511],"Bydgoszcz||Poland":[53.1235,18.0084],"B√ºy√ºk√ßekmece||Turkey":[41.0206,28.585],"Caballito||Buenos":[-34.6186,-58.4425],"Caen||France":[49.1829,-0.3707],"Cagliari||Italy":[39.2238,9.1217],"Caguas||Puerto Rico":[18.2341,-66.0485],"Cairns|Queensland|Australia":[-16.9186,145.7781],"Cairns||Australia":[-16.9186,145.7781],"Calgary||Alberta":[51.0447,-114.0719],"Calgary||Canada":[51.0447,-114.0719],"Canberra||Australia":[-35.2809,149.13],"Canberra||Australian Capital Territory":[-35.2809,149.13],"Canc√∫n||Mexico":[21.1619,-86.8515],"Canton|Ohio|USA":[40.7989,-81.3784],"Cantu||Italy":[45.7372,9.1269],"Cant√π||Italy":[45.7372,9.1269],"Capo d'Orlando||Italy":[38.1558,14.7411],"Caracas||Venezuela":[10.4806,-66.9036],"Carolina||Puerto Rico":[18.3808,-65.9574],"Cartagena||Spain":[37.6057,-0.9913],"Casale Monferrato||Italy":[45.1333,8.45],"Caserta||Italy":[41.0726,14.337],"Castell√≥n de la Plana||Spain":[39.9864,-0.0513],"Castro||Chile":[-42.4819,-73.765],"Cedar Rapids|Iowa|USA":[41.9779,-91.6656],"Chalon-sur-Sa√¥ne||France":[46.7808,4.8572],"Chalon||France":[46.7808,4.8572],"Changchun||China":[43.8171,125.3235],"Changwon||Gyeongsangnam-do":[35.2281,128.6811],"Charleroi||Belgium":[50.4108,4.4446],"Charleville-M√©zi√®res||France":[49.7718,4.7179],"Charlottetown||Prince Edward Island":[46.2382,-63.1311],"Charlotte|North Carolina|USA":[35.2271,-80.8431],"Chartres||France":[48.4536,1.4885],"Chemnitz||Germany":[50.8278,12.9214],"Chengdu||China":[30.5723,104.0665],"Cherkasy||Ukraine":[49.4285,32.0621],"Chicago|Illinois|USA":[41.8781,-87.6298],"Chihuahua City||Chihuahua":[28.6353,-106.0889],"Chikuma||Nagano":[36.536,138.1175],"Cholet||France":[47.0603,-0.8784],"Christchurch||New Zealand":[-43.5321,172.6362],"Ch√≠a||Colombia":[4.8637,-74.0599],"Cincinnati|Ohio|USA":[39.1031,-84.512],"Ciudad Obreg√≥n||Mexico":[27.4827,-109.9305],"Ciudad Victoria||Mexico":[23.7369,-99.1411],"Clermont-Ferrand||France":[45.7772,3.087],"Cleveland|Ohio|USA":[41.4993,-81.6944],"Cluj-Napoca||Romania":[46.7712,23.6236],"Coamo||Puerto Rico":[18.0806,-66.3579],"Collado Villalba||Community of Madrid":[40.6339,-4.0058],"Cologne||Germany":[50.9375,6.9603],"Columbus|Ohio|USA":[39.9612,-82.9988],"Comodoro Rivadavia||Argentina":[-45.8667,-67.5],"Concepci√≥n||Chile":[-36.827,-73.0503],"Concordia||Entre R√≠os":[-31.3969,-58.0209],"Corpus Christi|Texas|USA":[27.8006,-97.3964],"Corrientes||Argentina":[-27.4692,-58.8306],"Crailsheim||Germany":[49.1346,10.0699],"Cremona||Italy":[45.1333,10.0167],"Culiac√°n||Mexico":[24.8091,-107.394],"C√≥rdoba||Argentina":[-31.4201,-64.1888],"Daegu||South Korea":[35.8714,128.6014],"Dafni||Greece":[37.95,23.7333],"Dallas|Texas|USA":[32.7767,-96.797],"Damascus||Syria":[33.5138,36.2765],"Dar es Salaam||Tanzania":[-6.7924,39.2083],"Darwin||Northern Territory":[-12.4634,130.8456],"Dayton|Ohio|USA":[39.7589,-84.1916],"Debrecen||Hungary":[47.5316,21.6273],"Denain||France":[50.3306,3.3958],"Denizli||Turkey":[37.7765,29.0864],"Denver|Colorado|USA":[39.7392,-104.9903],"Derby||Derbyshire":[52.9228,-1.4752],"Des Moines|Iowa|USA":[41.5868,-93.625],"Detroit|Michigan|USA":[42.3314,-83.0458],"Dijon||France":[47.322,5.0415],"Diyarbakƒ±r||Turkey":[37.9144,40.2306],"Dnipro||Ukraine":[48.4647,35.0462],"Doha||Qatar":[25.2854,51.531],"Dom≈æale||Slovenia":[46.1378,14.5939],"Donetsk||Ukraine":[48.0159,37.8029],"Dongguan||China":[23.0207,113.7518],"Dubai||United Arab Emirates":[25.2048,55.2708],"Dublin||Ireland":[53.3498,-6.2603],"Duluth|Minnesota|USA":[46.7867,-92.1005],"Dunedin||New Zealand":[-45.8788,170.5028],"East Rutherford|New Jersey|USA":[40.8223,-74.0971],"Edmonton||Alberta":[53.5461,-113.4938],"Edmonton||Canada":[53.5461,-113.4938],"Eilat||Israel":[29.5577,34.9519],"El Paso|Texas|USA":[31.7619,-106.485],"El Prat de Llobregat||Spain":[41.3167,2.1],"Ellesmere Port||Cheshire":[53.2793,-2.8974],"Engomi||Cyprus":[35.1667,33.35],"Erie|Pennsylvania|USA":[42.1292,-80.0851],"Esenler||Istanbul":[41.0422,28.8775],"Eski≈üehir||Turkey":[39.7767,30.5206],"Espoo||Finland":[60.2055,24.6559],"Evansville|Indiana|USA":[37.9716,-87.5711],"Evreux||France":[49.024,1.1508],"Fabriano||Italy":[43.3372,12.9069],"Fabriano||Marche":[43.3372,12.9069],"Fajardo||Puerto Rico":[18.3257,-65.6527],"Fargo|North Dakota|USA":[46.8772,-96.7898],"Ferrara||Italy":[44.8378,11.6197],"Ferrol||Galicia":[43.4917,-8.2381],"Fethiye||Turkey":[36.6514,29.1225],"Flint|Michigan|USA":[43.0125,-83.6875],"Florida||Buenos Aires":[-34.5305,-58.4954],"Forl√¨||Italy":[44.2225,12.0408],"Formosa||Argentina":[-26.1849,-58.1731],"Fort Lauderdale|Florida|USA":[26.1224,-80.1373],"Fort Wayne|Indiana|USA":[41.0793,-85.1394],"Fort Worth|Texas|USA":[32.7555,-97.3308],"Fortaleza||Brazil":[-3.7172,-38.5431],"Fos-sur-mer||France":[43.4375,4.9444],"Franca||Brazil":[-20.5389,-47.4006],"Frankfurt||Germany":[50.1109,8.6821],"Fredericia||Denmark":[55.5662,9.7524],"Fresnillo||Mexico":[23.1759,-102.8692],"Fribourg||Switzerland":[46.8065,7.162],"Fuenlabrada||Spain":[40.2839,-3.8],"Fukui||Fukui Prefecture":[36.0641,136.2196],"Fukuoka||Fukuoka":[33.5902,130.4017],"Fuladshahr||Iran":[32.4639,51.4078],"Funabashi||Chiba":[35.6947,139.9828],"Funchal||Portugal":[32.6669,-16.9241],"Gan Ner||Israel":[32.4667,35.35],"Gand√≠a||Valencian Community":[38.9667,-0.1833],"Garg≈ædai||Lithuania":[55.7114,21.3886],"Gary|Indiana|USA":[41.5934,-87.3464],"Gaziantep||Turkey":[37.0662,37.3833],"Gdynia||Poland":[54.5189,18.5305],"Geelong||Victoria":[-38.1499,144.3617],"General Pico||La Pampa Province":[-35.6567,-63.7567],"Geneva||Switzerland":[46.2044,6.1432],"Ghent||Belgium":[51.0543,3.7174],"Gie√üen||Germany":[50.5841,8.6784],"Gij√≥n||Spain":[43.5453,-5.6635],"Giresun||Turkey":[40.9175,38.3869],"Girona||Spain":[41.9794,2.8214],"Giv'at Shmuel||Israel":[32.0772,34.8467],"Giza||Egypt":[30.0131,31.2089],"Gliwice||Poland":[50.2945,18.6714],"Glyfada||Greece":[37.8667,23.75],"Gorgan||Iran":[36.8394,54.4344],"Gorizia||Italy":[45.9411,13.6222],"Gotha||Germany":[50.9495,10.7018],"Goyang||Gyeonggi Province":[37.6564,126.835],"Gran Canaria||Spain":[27.9202,-15.5474],"Granada||Andalusia":[37.1773,-3.5986],"Granada||Spain":[37.1773,-3.5986],"Grand Rapids|Michigan|USA":[42.9634,-85.6681],"Granollers||Spain":[41.6083,2.2875],"Gravelines||France":[50.9872,2.1283],"Great Falls|Montana|USA":[47.5053,-111.3008],"Greater Sudbury||Ontario":[46.4917,-81.0],"Green Bay|Wisconsin|USA":[44.5133,-88.0133],"Greensboro|North Carolina|USA":[36.0726,-79.792],"Guadalajara||Mexico":[20.6597,-103.3496],"Gualala||Honduras":[14.1,-87.1333],"Guangzhou||China":[23.1291,113.2644],"Guasave||Mexico":[25.5667,-108.4667],"Guayama||Puerto Rico":[17.9843,-66.1127],"Guaymas||Sonora":[27.9245,-110.8973],"Guaynabo||Puerto Rico":[18.3585,-66.1107],"Guelph||Canada":[43.5448,-80.2482],"Gugulethu||South Africa":[-33.9833,18.5667],"Guwahati||Assam":[26.1445,91.7362],"Gvat||Israel":[32.6247,35.1494],"G√∂ttingen||Germany":[51.5413,9.9158],"Haarlem||Netherlands":[52.3874,4.6462],"Hagen||Germany":[51.3671,7.4633],"Haifa||Israel":[32.794,34.9896],"Halifax||Nova Scotia":[44.6488,-63.5752],"Hamburg||Germany":[53.5511,9.9937],"Hamilton||Canada":[43.2557,-79.8711],"Hampton|Virginia|USA":[37.0299,-76.3452],"Hangzhou||China":[30.2741,120.1551],"Harrisburg|Pennsylvania|USA":[40.2732,-76.8867],"Hartford|Connecticut|USA":[41.7658,-72.6734],"Hasselt||Belgium":[50.9311,5.3378],"Hefei||China":[31.8206,117.2272],"Heidelberg||Germany":[49.3988,8.6724],"Helsinki||Finland":[60.1699,24.9384],"Heraklion||Greece":[35.3387,25.1442],"Hermosillo||Mexico":[29.0729,-110.9559],"Herzliya||Israel":[32.1653,34.8461],"Ho Chi Minh City||Vietnam":[10.8231,106.6297],"Hobart||Tasmania":[-42.8821,147.3272],"Hod HaSharon||Israel":[32.1536,34.8914],"Holon||Israel":[32.0108,34.7733],"Honolulu|Hawaii|USA":[21.3069,-157.8583],"Houston|Texas|USA":[29.7604,-95.3698],"Huesca||Spain":[42.1401,-0.4089],"Humacao||Puerto Rico":[18.1497,-65.8277],"Ibarra||Ecuador":[0.3517,-78.1223],"Ilisia||Greece":[37.9667,23.7833],"Illescas||Castile-La Mancha":[40.1222,-3.8478],"Imola||Italy":[44.3533,11.7142],"Inca||Balearic Islands":[39.7206,2.9108],"Indianapolis|Indiana|USA":[39.7684,-86.1581],"Inglewood|California|USA":[33.9617,-118.3531],"Ioannina||Greece":[39.665,20.8537],"Irapuato||Mexico":[20.6767,-101.3566],"Isabela||Puerto Rico":[18.5007,-67.0247],"Isfahan||Iran":[32.6546,51.668],"Istanbul||Turkey":[41.0082,28.9784],"Ivano-Frankivsk||Ukraine":[48.9226,24.7111],"Izmir||Turkey":[38.4192,27.1287],"Jaboat√£o dos Guararapes||Brazil":[-8.1128,-35.0178],"Jacksonville|Florida|USA":[30.3322,-81.6557],"Jackson|Mississippi|USA":[32.2988,-90.1848],"Jakarta||Indonesia":[-6.2088,106.8456],"Jdeihde||Lebanon":[33.8694,35.5381],"Jeddah||Saudi Arabia":[21.4858,39.1925],"Jena||Germany":[50.9271,11.5892],"Jersey City|New Jersey|USA":[40.7178,-74.0431],"Jerusalem||Israel":[31.7683,35.2137],"Jesi||Italy":[43.5231,13.2442],"Jinan||China":[36.6512,116.9972],"Jinjiang||China":[24.7819,118.5519],"Johnstown||Ireland":[52.3056,-6.85],"Juarez||Mexico":[31.6904,-106.4245],"Jun√≠n||Argentina":[-34.593,-60.9565],"J√°szber√©ny||Hungary":[47.5,19.9167],"Kaarina||Finland":[60.4083,22.3678],"Kadoma||Japan":[34.7438,135.5701],"Kagoshima||Kagoshima":[31.5966,130.5571],"Kaifan||Kuwait":[29.35,47.9667],"Kallang||Singapore":[1.3044,103.8711],"Kallithea||Greece":[37.95,23.7],"Kamianske||Ukraine":[48.5173,34.6137],"Kanazawa||Japan":[36.5944,136.6256],"Kansas City|Missouri|USA":[39.0997,-94.5786],"Kapfenberg||Austria":[47.4417,15.2917],"Kariya||Japan":[34.9897,136.9907],"Kashiwa||Chiba":[35.8676,139.9757],"Kauhajoki||Finland":[62.4319,22.1761],"Kaunas||Lithuania":[54.8985,23.9036],"Kawasaki||Japan":[35.5308,139.703],"Kawasaki||Kanagawa":[35.5308,139.703],"Kazan||Russia":[55.7963,49.1088],"Kesrouan||Lebanon":[33.9833,35.65],"Kfar Blum||Israel":[33.1753,35.6083],"Khimki||Russia":[55.8894,37.4297],"Kifissia||Greece":[38.0747,23.8108],"Killarney||Ireland":[52.0588,-9.5072],"Kinmen||Taiwan":[24.4493,118.3767],"Kispest||Budapest":[47.4581,19.1478],"Kissimmee|Florida|USA":[28.292,-81.4076],"Klaipƒóda||Lithuania":[55.7033,21.1443],"Klina||Kosovo":[42.6194,20.5667],"Kobe||Hyogo":[34.6901,135.1956],"Koshigaya||Saitama":[35.8911,139.7903],"Koszalin||Poland":[54.1943,16.1714],"Kotka||Finland":[60.4664,26.9458],"Ko≈Çobrzeg||Poland":[54.1759,15.5833],"Kragujevac||Serbia":[44.0128,20.9114],"Krasnodar||Russia":[45.0355,38.9753],"Krasnoyarsk||Russia":[56.0097,92.8525],"Kuala Lumpur||Malaysia":[3.139,101.6869],"Kumamoto||Kumamoto":[32.8031,130.7079],"Kunming||China":[25.0389,102.7183],"Kyiv||Ukraine":[50.4501,30.5234],"Kymi||Greece":[38.6333,24.1167],"Kyoto||Kyoto":[35.0116,135.7681],"K√∂ln||Germany":[50.9375,6.9603],"K√∂rmend||Hungary":[47.0103,16.6042],"L'Hospitalet de Llobregat||Spain":[41.3596,2.1006],"La Banda||Argentina":[-27.7341,-64.2451],"La Laguna||Spain":[28.4853,-16.3167],"La Plata||Buenos":[-34.9205,-57.9536],"Lagos||Nigeria":[6.5244,3.3792],"Lakeland|Florida|USA":[28.0395,-81.9498],"Lakta≈°i||Bosnia and Herzegovina":[44.9106,17.3028],"Landover|Maryland|USA":[38.906,-76.8853],"Lappeenranta||Finland":[61.0587,28.1867],"Lapua||Finland":[62.9706,23.0083],"Larissa||Greece":[39.639,22.4191],"Larnaca||Cyprus":[34.9229,33.6233],"Las Palmas||Spain":[28.1235,-15.4363],"Las Rozas de Madrid||Spain":[40.4949,-3.8736],"Las Vegas|Nevada|USA":[36.1699,-115.1398],"Latina||Italy":[41.4676,12.9044],"Laval||Qu√©bec":[45.6066,-73.7124],"La≈°ko||Slovenia":[46.1542,15.2358],"Le Havre||France":[49.4944,0.1079],"Le Mans||France":[48.0061,0.1996],"Le Portel||France":[50.7083,1.5722],"Legnano||Italy":[45.5958,8.9122],"Leicester||Leicestershire":[52.6369,-1.1398],"Leiden||Netherlands":[52.1601,4.497],"Leipzig||Germany":[51.3397,12.3731],"Leuven||Belgium":[50.8798,4.7005],"Levallois-Perret||France":[48.8939,2.2878],"Leverkusen||North Rhine-Westphalia":[51.0459,7.0192],"Le√≥n||Guanajuato":[21.1221,-101.686],"Le√≥n||Mexico":[21.1221,-101.686],"Le√≥n||Spain":[42.5987,-5.5671],"Limassol||Cyprus":[34.7071,33.0226],"Limoges||France":[45.8336,1.2611],"Lisbon metropolitan area||Portugal":[38.7223,-9.1393],"Little Rock|Arkansas|USA":[34.7465,-92.2896],"Livorno||Italy":[43.5485,10.3106],"Livorno||Tuscany":[43.5485,10.3106],"Li√®ge||Belgium":[50.6326,5.5797],"Ljubljana||Slovenia":[46.0569,14.5058],"Lleida||Spain":[41.6176,0.62],"Ll√≠ria||Valencian Community":[39.6261,-0.5989],"London||England":[51.5074,-0.1278],"London||Ontario":[42.9849,-81.2453],"Long Beach|California|USA":[33.7701,-118.1937],"Lorient||France":[47.75,-3.3667],"Los Angeles|California|USA":[34.0522,-118.2437],"Los Mochis||Mexico":[25.7906,-108.9939],"Louisville|Kentucky|USA":[38.2527,-85.7585],"Luanda||Angola":[8.8368,13.2343],"Lubbock|Texas|USA":[33.5779,-101.8552],"Lublin||Poland":[51.2465,22.5684],"Ludwigsburg||Germany":[48.8975,9.1922],"Lugano||Switzerland":[46.0037,8.9511],"Lugo||Spain":[43.0097,-7.5567],"Lule√•||Sweden":[65.5848,22.1547],"Lviv||Ukraine":[49.8397,24.0297],"Lyon||France":[45.764,4.8357],"Macul||Santiago":[-33.4894,-70.5992],"Madison|Wisconsin|USA":[43.0731,-89.4012],"Madrid||Spain":[40.4168,-3.7038],"Magnitogorsk||Russia":[53.407,58.979],"Mahshahr||Iran":[30.4576,49.1821],"Mah√≥n||Illes Balears":[39.8894,4.2661],"Malaga||Spain":[36.7213,-4.4214],"Malang||East Java":[-7.9797,112.6304],"Manara||Lebanon":[33.8997,35.4828],"Manat√≠||Puerto Rico":[18.4296,-66.4799],"Manchester|New Hampshire|USA":[42.9956,-71.4548],"Manchester||England":[53.4808,-2.2426],"Manila||Philippines":[14.5995,120.9842],"Manisa||Turkey":[38.6191,27.4289],"Manresa||Spain":[41.725,1.8264],"Mantua||Italy":[45.1564,10.7914],"Mar del Plata||Argentina":[-38.0023,-57.5575],"Maracaibo||Venezuela":[10.6666,-71.6124],"Maracay||Venezuela":[10.2469,-67.5958],"Marietta|Georgia|USA":[33.9526,-84.5499],"Mariupol||Ukraine":[47.0958,37.5483],"Maroussi||Greece":[38.05,23.8],"Massagno||Switzerland":[46.015,8.94],"Matur√≠n||Venezuela":[9.7457,-63.183],"Mayag√ºez||Puerto Rico":[18.2013,-67.1397],"Mayrouba||Lebanon":[33.9833,35.7833],"Mazatlan||Sinaloa":[23.2494,-106.4111],"Mechelen||Belgium":[51.0259,4.4777],"Medan||North Sumatra":[3.5952,98.6722],"Medell√≠n||Colombia":[6.2518,-75.5636],"Melbourne|Victoria|Australia":[-37.8136,144.9631],"Melbourne||Australia":[-37.8136,144.9631],"Melilla||Spain":[35.2923,-2.9381],"Memphis|Tennessee|USA":[35.1495,-90.049],"Mersin||Turkey":[36.8,34.6333],"Messina||Sicily":[38.1938,15.554],"Mestre||Italy":[45.4908,12.2378],"Mexicali||Mexico":[32.6245,-115.4523],"Mexico City||Mexico":[19.4326,-99.1332],"Mezher||Lebanon":[33.9167,35.5667],"Miami|Florida|USA":[25.7617,-80.1918],"Milano||Italy":[45.4642,9.19],"Milan||Italy":[45.4642,9.19],"Milwaukee|Wisconsin|USA":[43.0389,-87.9065],"Minneapolis|Minnesota|USA":[44.9778,-93.265],"Miranda||Venezuela":[10.25,-66.9167],"Mississauga|Ontario|Canada":[43.589,-79.6441],"Mississauga||Canada":[43.589,-79.6441],"Mito||Ibaraki":[36.3659,140.4714],"Mobile|Alabama|USA":[30.6954,-88.0399],"Monaco||Monaco":[43.7384,7.4246],"Moncton||New Brunswick":[46.0878,-64.7782],"Mondrag√≥n||Spain":[43.0642,-2.4906],"Mons||Belgium":[50.4542,3.9568],"Montecatini Terme||Tuscany":[43.8833,10.7667],"Montegranaro||Italy":[43.2333,13.6333],"Monterrey||Mexico":[25.6866,-100.3161],"Montevideo||Uruguay":[-34.9011,-56.1645],"Montgomery|Alabama|USA":[32.3792,-86.3077],"Monthey||Switzerland":[46.255,6.955],"Montreal|Quebec|Canada":[45.5017,-73.5673],"Montreal||Canada":[45.5017,-73.5673],"Morelia||Mexico":[19.706,-101.195],"Morioka||Iwate":[39.7036,141.1527],"Moscow||Russia":[55.7558,37.6173],"Mostar||Bosnia and Herzegovina":[43.3438,17.8078],"Mpumalanga||South Africa":[-25.5653,30.5279],"Muharraq||Bahrain":[26.2572,50.6119],"Mulhouse||France":[47.7508,7.3359],"Mumbai||India":[19.076,72.8777],"Munich||Germany":[48.1351,11.582],"Murcia||Spain":[37.9922,-1.1307],"Mykolaiv||Ukraine":[46.975,31.9946],"Myrina||Greece":[39.875,25.0583],"M√°laga||Spain":[36.7213,-4.4214],"Nagaoka||Niigata":[37.4483,138.8511],"Nagasaki City||Nagasaki Prefecture":[32.7503,129.8779],"Nagoya||Aichi":[35.1815,136.9066],"Nagoya||Aichi Prefecture":[35.1815,136.9066],"Nahariya||Israel":[33.0056,35.0939],"Nanchang||China":[28.682,115.8579],"Nancy||France":[48.6921,6.1844],"Nanjing||China":[32.0603,118.7969],"Nanterre||France":[48.8924,2.2069],"Nantes||France":[47.2184,-1.5536],"Nanyang||China":[33.0044,112.5283],"Naples||Italy":[40.8518,14.2681],"Napoli||Italy":[40.8518,14.2681],"Nara||Japan":[34.6851,135.8048],"Nashville|Tennessee|USA":[36.1627,-86.7816],"Nea Filadelfeia||Greece":[38.0333,23.7333],"Nea Smyrni||Greece":[37.9439,23.7139],"Neapoli||Greece":[37.9667,23.75],"Ness Ziona||Israel":[31.9289,34.7986],"Netanya||Israel":[32.3286,34.8589],"Neuch√¢tel||Switzerland":[46.992,6.9311],"New Orleans|Louisiana|USA":[29.9511,-90.0715],"New Taipei City||Taiwan":[25.0119,121.4654],"New York|New York|USA":[40.7128,-74.006],"Newark|New Jersey|USA":[40.7357,-74.1724],"Newcastle upon Tyne||England":[54.9783,-1.6178],"Newcastle||New South Wales":[-32.9283,151.7817],"Nicosia||Cyprus":[35.1856,33.3823],"Nijmegen||Netherlands":[51.8126,5.8372],"Ningbo||China":[29.8683,121.544],"Nizhny Novgorod||Russia":[56.2965,43.9361],"Nokia||Finland":[61.4782,23.5005],"Norfolk|Virginia|USA":[36.8508,-76.2859],"Norrk√∂ping||Sweden":[58.5877,16.1924],"Novi Sad||Serbia":[45.2671,19.8335],"Novo Mesto||Slovenia":[45.8042,15.1631],"Novosibirsk||Russia":[55.0084,82.9357],"Nov√Ω Jiƒç√≠n||Czech Republic":[49.5944,18.0103],"Nuevo Laredo||Tamaulipas":[27.4861,-99.5167],"Nuremberg||Germany":[49.4521,11.0767],"Nymburk||Czech Republic":[50.1857,15.0408],"Nyon||Switzerland":[46.3819,6.2358],"N√∫√±ez||Argentina":[-34.5479,-58.4554],"Oakland|California|USA":[37.8044,-122.2712],"Oberwart||Austria":[47.2906,16.2064],"Ockelbo||Sweden":[60.891,16.7118],"Odesa||Ukraine":[46.4825,30.7233],"Okinawa||Okinawa Prefecture":[26.2124,127.6809],"Oklahoma City|Oklahoma|USA":[35.4676,-97.5164],"Olavarr√≠a||Buenos Aires Province":[-36.8932,-60.3232],"Oldenburg||Germany":[53.1435,8.2146],"Omaha|Nebraska|USA":[41.2565,-95.9345],"Opava||Czech Republic":[49.9389,17.9025],"Orangeville||Ontario":[43.92,-80.0942],"Orlando|Florida|USA":[28.5383,-81.3792],"Orleans||France":[47.9029,1.9093],"Orl√©ans||France":[47.9029,1.9093],"Osaka||Japan":[34.6937,135.5023],"Osijek||Croatia":[45.5511,18.6939],"Osorno||Los Lagos Region":[-40.5739,-73.1344],"Ostend||Belgium":[51.2194,2.9264],"Ostr√≥w Wielkopolski||Poland":[51.6528,17.8067],"Ota||Gunma":[36.292,139.3756],"Ottawa|Ontario|Canada":[45.4215,-75.6972],"Ottawa||Canada":[45.4215,-75.6972],"Ourense||Spain":[42.3364,-7.8639],"Ovar||Portugal":[40.8592,-8.625],"PIK||Jakarta":[-6.107,106.7364],"Padua||Italy":[45.4064,11.8768],"Paks||Hungary":[46.6189,18.8553],"Palanga||Lithuania":[55.92,21.0667],"Palermo||Italy":[38.1157,13.3615],"Pamekasan||Madura":[-7.1667,113.4667],"Panevƒó≈æys||Lithuania":[55.7348,24.3575],"Papagou||Greece":[37.9833,23.7833],"Paphos||Cyprus":[34.7754,32.4245],"Paran√°||Argentina":[-31.7319,-60.5238],"Pardubice||Czech Republic":[50.0343,15.7812],"Paris||France":[48.8566,2.3522],"Patras||Greece":[38.2466,21.7346],"Pau||France":[43.2951,-0.3708],"Pavia||Italy":[45.1847,9.1582],"Pej√´||Kosovo":[42.6593,20.2888],"Peoria|Illinois|USA":[40.6936,-89.589],"Pepinster||Belgium":[50.5683,5.8044],"Peristeri||Greece":[38.0167,23.6833],"Perm||Russia":[58.0105,56.2502],"Perth|Western Australia|Australia":[-31.9505,115.8605],"Perth||Australia":[-31.9505,115.8605],"Pesaro||Italy":[43.9098,12.9131],"Philadelphia|Pennsylvania|USA":[39.9526,-75.1652],"Phoenix|Arizona|USA":[33.4484,-112.074],"Piacenza||Italy":[45.0522,9.6928],"Piraeus||Greece":[37.9422,23.6464],"Pistoia||Italy":[43.9333,10.9167],"Pittsburgh|Pennsylvania|USA":[40.4406,-79.9959],"Pivdenne||Ukraine":[48.0478,37.765],"Ploie»ôti||Romania":[44.94,26.0253],"Podgorica||Montenegro":[42.4304,19.2594],"Polzela||Slovenia":[46.2803,15.0656],"Ponce||Puerto Rico":[18.0111,-66.6141],"Pontiac|Michigan|USA":[42.6389,-83.291],"Pontianak||West Kalimantan":[-0.0263,109.3425],"Porlamar||Venezuela":[10.9567,-63.85],"Port Harcourt||Nigeria":[4.7774,7.0134],"Portland|Maine|USA":[43.6591,-70.2568],"Portland|Oregon|USA":[45.5152,-122.6784],"Potos√≠||Bolivia":[-19.5836,-65.7531],"Pozna≈Ñ||Poland":[52.4064,16.9252],"Prague||Czech Republic":[50.0755,14.4378],"Prienai||Lithuania":[54.6381,23.9467],"Pristina||Kosovo":[42.6629,21.1655],"Providence|Rhode Island|USA":[41.824,-71.4128],"Pruszk√≥w||Poland":[52.1708,20.8117],"Puebla City||Mexico":[19.0414,-98.2063],"Puerto La Cruz||Venezuela":[10.2167,-64.6333],"Puerto Ordaz||Venezuela":[8.288,-62.7232],"Qazvin||Iran":[36.2688,50.0041],"Qingdao||China":[36.0671,120.3826],"Qom||Iran":[34.6401,50.8764],"Quakenbr√ºck||Germany":[52.6779,7.9528],"Quebradillas||Puerto Rico":[18.4736,-66.9381],"Quer√©taro City||Mexico":[20.5888,-100.3899],"Quimper||France":[47.9967,-4.1019],"Radom||Poland":[51.4027,21.1471],"Rad√®s||Tunisia":[36.7667,10.2833],"Rakvere||Estonia":[59.3469,26.3548],"Raleigh|North Carolina|USA":[35.7796,-78.6382],"Ramat Gan||Israel":[32.0833,34.8167],"Ramat HaSharon||Israel":[32.1464,34.8403],"Rapid City|South Dakota|USA":[44.0805,-103.231],"Reading|Pennsylvania|USA":[40.3356,-75.9269],"Reggio Calabria||Italy":[38.1114,15.6467],"Reggio Emilia||Italy":[44.6989,10.6297],"Rethymno||Greece":[35.3656,24.4831],"Revda||Russia":[56.8,59.9333],"Reykjav√≠k||Iceland":[64.1466,-21.9426],"Rhodes||Greece":[36.435,28.2176],"Richfield|Ohio|USA":[41.2367,-81.6376],"Richmond|Virginia|USA":[37.5407,-77.436],"Rieti||Italy":[42.4037,12.8578],"Riga||Latvia":[56.9496,24.1052],"Rimini||Italy":[44.0678,12.5695],"Rishon LeZion||Israel":[31.973,34.7925],"Roanne||France":[46.0355,4.0669],"Rochester|New York|USA":[43.1566,-77.6088],"Rockford|Illinois|USA":[42.2711,-89.094],"Roma||Italy":[41.9028,12.4964],"Rome||Italy":[41.9028,12.4964],"Roseto degli Abruzzi||Italy":[42.6761,14.0153],"Rostock||Germany":[54.0924,12.0991],"Rotterdam||Netherlands":[51.9244,4.4777],"Rouen||France":[49.4432,1.0993],"Rustavi||Georgia":[41.5494,45.0106],"R√¢mnicu V√¢lcea||Romania":[45.0997,24.3693],"Rƒ´ga||Latvia":[56.9496,24.1052],"Sacramento|California|USA":[38.5816,-121.4944],"Saga||Saga":[33.2635,130.3009],"Saint John||New Brunswick":[45.2733,-66.0633],"Saint Petersburg||Russia":[59.9311,30.3609],"Sakarya||Turkey":[40.7569,30.3781],"Salamanca||Castile and Lion":[40.9701,-5.6635],"Salt Lake City|Utah|USA":[40.7608,-111.891],"Samara||Russia":[53.1959,50.1002],"San Andr√©s||Argentina":[-34.5386,-58.5272],"San Antonio|Texas|USA":[29.4241,-98.4936],"San Carlos||Dominican Republic":[18.4722,-69.9889],"San Carlos||Maldonado":[-34.7931,-54.9172],"San Diego|California|USA":[32.7157,-117.1611],"San Francisco|California|USA":[37.7749,-122.4194],"San Germ√°n||Puerto Rico":[18.0827,-67.0463],"San Jose|California|USA":[37.3382,-121.8863],"San Juan||Puerto Rico":[18.4655,-66.1057],"San Luis Potos√≠ City||Mexico":[22.1565,-100.9855],"San Sebasti√°n||Basque Country":[43.3183,-1.9812],"San Sebasti√°n||Spain":[43.3183,-1.9812],"Santa Fe|New Mexico|USA":[35.687,-105.9378],"Santa Fe||Argentina":[-31.6333,-60.7],"Santander||Cantabria":[43.4623,-3.8099],"Santiago de Compostela||Galicia":[42.8782,-8.5448],"Santiago de los Caballeros||Dominican Republic":[19.4517,-70.697],"Santiago del Estero||Argentina":[-27.7951,-64.2615],"Santiago||Chile":[-33.4489,-70.6693],"Santo Domingo||Dominican Republic":[18.4861,-69.9312],"Santurce||Puerto Rico":[18.4486,-66.0696],"Sapporo||Japan":[43.0618,141.3545],"Sarajevo||Bosnia and Herzegovina":[43.8563,18.4131],"Saratov||Russia":[51.533,46.0344],"Saskatoon||Saskatchewan":[52.1332,-106.67],"Sassari||Italy":[40.7259,8.5556],"Savannah|Georgia|USA":[32.0809,-81.0912],"Scafati||Italy":[40.7556,14.5278],"Scranton|Pennsylvania|USA":[41.409,-75.6624],"Seattle|Washington|USA":[47.6062,-122.3321],"Seoul||South Korea":[37.5665,126.978],"Seremban||Negeri Sembilan":[2.726,101.9381],"Sevilla||Spain":[37.3891,-5.9845],"Seville||Andalusia":[37.3891,-5.9845],"Seville||Spain":[37.3891,-5.9845],"Shanghai||China":[31.2304,121.4737],"Sheffield||South Yorkshire":[53.3811,-1.4701],"Shenyang||China":[41.8057,123.4315],"Shenzhen||China":[22.5431,114.0579],"Shibuya||Tokyo":[35.658,139.7016],"Shizuoka||Shizuoka":[34.9756,138.3828],"Shreveport|Louisiana|USA":[32.5252,-93.7502],"Sibiu||Romania":[45.7983,24.1256],"Siena||Italy":[43.3188,11.3308],"Singapore||Singapore":[1.3521,103.8198],"Sioux Falls|South Dakota|USA":[43.5446,-96.7311],"Sitra||Bahrain":[26.1556,50.6139],"Skopje||North":[41.9973,21.428],"Skopje||North Macedonia":[41.9973,21.428],"Sofia||Bulgaria":[42.6977,23.3219],"Sokhumi||Georgia":[43.0033,41.015],"Solna||Sweden":[59.36,18.0],"Sopot||Poland":[54.4418,18.5601],"Sorocaba||Brazil":[-23.5015,-47.4526],"South Bend|Indiana|USA":[41.6764,-86.252],"Split||Croatia":[43.5081,16.4402],"Spokane|Washington|USA":[47.6588,-117.426],"Springfield|Illinois|USA":[39.7817,-89.6501],"Springfield|Massachusetts|USA":[42.1015,-72.5898],"St. Catharines||Ontario":[43.1594,-79.2469],"St. John's||NL":[47.5615,-52.7126],"St. John's||Newfoundland and Labrador":[47.5615,-52.7126],"St. Louis|Missouri|USA":[38.627,-90.1994],"St. Petersburg|Florida|USA":[27.7676,-82.6403],"St. Petersburg||Russia":[59.9311,30.3609],"Stargard||Poland":[53.3365,15.0507],"Starogard Gda≈Ñski||Poland":[53.9642,18.5278],"Strasbourg||France":[48.5734,7.7521],"Stratford||Greater London":[51.5423,-0.0026],"Strovolos||Cyprus":[35.1333,33.3333],"Sundsvall||Sweden":[62.3908,17.3069],"Surabaya||Indonesia":[-7.2575,112.7521],"Surgut||Russia":[61.254,73.3964],"Suwon||South Korea":[37.2636,127.0286],"Sydney|New South Wales|Australia":[-33.8688,151.2093],"Sydney||Australia":[-33.8688,151.2093],"Syracuse|New York|USA":[43.0481,-76.1474],"Szczecin||Poland":[53.4285,14.5528],"Szolnok||Hungary":[47.1621,20.1825],"Sz√©kesfeh√©rv√°r||Hungary":[47.186,18.4221],"S√£o Paulo||Brazil":[-23.5505,-46.6333],"S√∂dert√§lje||Sweden":[59.1955,17.6253],"S≈Çupsk||Poland":[54.4641,17.0285],"Tabriz||Iran":[38.08,46.2919],"Tacoma|Washington|USA":[47.2529,-122.4443],"Taichung City||Taiwan":[24.1477,120.6736],"Tainan City||Taiwan":[22.9999,120.2269],"Taipei City||Taiwan":[25.033,121.5654],"Taipei||Taiwan":[25.033,121.5654],"Taiyuan||China":[37.8706,112.5489],"Tallinn||Estonia":[59.437,24.7536],"Tampa|Florida|USA":[27.9506,-82.4572],"Tampico||Mexico":[22.2331,-97.8611],"Taoyuan City||Taiwan":[24.9936,121.301],"Taoyuan||Taiwan":[24.9936,121.301],"Tarragona||Spain":[41.1189,1.2445],"Tarsus||Turkey":[36.918,34.8935],"Tartu||Estonia":[58.3776,26.729],"Tbilisi||Georgia":[41.7151,44.8271],"Tehran||Iran":[35.6892,51.389],"Tel Aviv||Israel":[32.0853,34.7818],"Tendo||Yamagata":[38.3614,140.3786],"Tenerife||Spain":[28.2916,-16.6291],"Teramo||Italy":[42.6591,13.7043],"Ternopil||Ukraine":[49.5535,25.5948],"Thessaloniki||Greece":[40.6401,22.9444],"Thessaloniki||Macedonia":[40.6401,22.9444],"Tianjin||China":[39.3434,117.3616],"Tijuana||Mexico":[32.5149,-117.0382],"Tokyo||Japan":[35.6762,139.6503],"Toledo|Ohio|USA":[41.6528,-83.5379],"Topeka|Kansas|USA":[39.0489,-95.678],"Torino||Italy":[45.0703,7.6869],"Toronto|Ontario|Canada":[43.6532,-79.3832],"Toronto||Canada":[43.6532,-79.3832],"Tortona||Italy":[44.8958,8.8631],"Tortona||Piedmont":[44.8958,8.8631],"Toru≈Ñ||Poland":[53.0138,18.5984],"Tours||France":[47.3941,0.6848],"Townsville||Queensland":[-19.259,146.8169],"Toyama||Toyama":[36.6959,137.2137],"Trabzon||Turkey":[41.0027,39.7168],"Traiskirchen||Austria":[48.015,16.295],"Trapani||Italy":[38.0175,12.5367],"Trenton|New Jersey|USA":[40.2171,-74.7429],"Trento||Italy":[46.0748,11.1217],"Treviso||Italy":[45.6669,12.242],"Trier||Germany":[49.7597,6.6439],"Trieste||Italy":[45.6495,13.7768],"Trikala||Greece":[39.555,21.7688],"Tripoli||Lebanon":[34.4368,35.8497],"Tripoli||Libya":[32.8872,13.1913],"Tucson|Arizona|USA":[32.2226,-110.9747],"Tulsa|Oklahoma|USA":[36.154,-95.9928],"Turin||Italy":[45.0703,7.6869],"Tuzla||Bosnia and Herzegovina":[44.5384,18.6763],"T√¢rgu Jiu||Romania":[45.0378,23.2744],"T√ºbingen||Germany":[48.5216,9.0576],"Uberl√¢ndia||Brazil":[-18.9186,-48.2772],"Udine||Italy":[46.0711,13.2346],"Ulaanbaatar||Mongolia":[47.8864,106.9057],"Ulm||Germany":[48.4011,9.9876],"Ulsan||South Korea":[35.5384,129.3114],"Uniondale|New York|USA":[40.7004,-73.5926],"Urk||Netherlands":[52.6633,5.5994],"Utena||Lithuania":[55.4981,25.6028],"Utsunomiya||Japan":[36.5551,139.8829],"Uusikaupunki||Finland":[60.8003,21.4067],"U≈üak||Turkey":[38.6823,29.4082],"Vacallo||Switzerland":[45.8478,9.0333],"Valdivia||Chile":[-39.8142,-73.2459],"Valencia||Spain":[39.4699,-0.3763],"Valencia||Venezuela":[10.162,-68.0077],"Valjevo||Serbia":[44.275,19.8911],"Valladolid||Castile-Le√≥n":[41.6523,-4.7245],"Vancouver|British Columbia|Canada":[49.2827,-123.1207],"Vancouver||Canada":[49.2827,-123.1207],"Vantaa||Finland":[60.2934,25.0378],"Varese||Italy":[45.8206,8.8257],"Varna||Bulgaria":[43.2141,27.9147],"Vechta||Germany":[52.7294,8.283],"Velika Gorica||Croatia":[45.7144,16.0758],"Venado Tuerto||Argentina":[-33.7456,-61.9688],"Venezia||Italy":[45.4408,12.3155],"Veracruz||Mexico":[19.1738,-96.1342],"Veroli||Italy":[41.6906,13.4183],"Verona||Italy":[45.4384,10.9916],"Vevey||Switzerland":[46.4628,6.8428],"Vichy||France":[46.1275,3.4269],"Vienna||Austria":[48.2082,16.3738],"Villeurbanne||France":[45.7676,4.88],"Vilnius||Lithuania":[54.6872,25.2797],"Vitoria-Gasteiz||Spain":[42.8467,-2.6716],"Vitoria||Spain":[42.8467,-2.6716],"Vladivostok||Russia":[43.1332,131.9113],"Volgograd||Russia":[48.708,44.5133],"Wan Chai||Hong Kong":[22.2783,114.1747],"Warsaw||Poland":[52.2297,21.0122],"Washington|D.C.|USA":[38.9072,-77.0369],"Weinan||China":[34.4996,109.5097],"Wei√üenfels||Germany":[51.1988,11.97],"Wei√üenhorn||Germany":[48.3056,10.1603],"Wellington||New Zealand":[-41.2866,174.7756],"Wels||Austria":[48.1575,14.0286],"West Palm Beach|Florida|USA":[26.7153,-80.0534],"Wevelgem||Belgium":[50.8078,3.1833],"Wichita|Kansas|USA":[37.6872,-97.3301],"Wilmington|Delaware|USA":[39.7391,-75.5398],"Windsor||Ontario":[42.3149,-83.0364],"Winnipeg||Manitoba":[49.8951,-97.1384],"Wollongong|New South Wales|Australia":[-34.4278,150.8931],"Wollongong||Australia":[-34.4278,150.8931],"Wonju||South Korea":[37.3422,127.9201],"Worcester|Massachusetts|USA":[42.2626,-71.8023],"Worcester||Worcestershire":[52.1936,-2.2216],"Wroclaw||Poland":[51.1079,17.0385],"W√ºrzburg||Germany":[49.7913,9.9534],"W≈Çoc≈Çawek||Poland":[52.6483,19.0678],"Xalapa||Mexico":[19.5438,-96.9102],"Yaba||Nigeria":[6.5095,3.3711],"Yalova||Turkey":[40.65,29.2667],"Yekaterinburg||Russia":[56.8389,60.6057],"Yiwu||China":[29.3065,120.075],"Yokohama||Japan":[35.4437,139.638],"Youngstown|Ohio|USA":[41.0998,-80.6495],"Yuzhno-Sakhalinsk||Russia":[46.9641,142.7285],"Zabok||Croatia":[46.0256,15.9181],"Zacatecas||Mexico":[22.7709,-102.5833],"Zadar||Croatia":[44.1194,15.2314],"Zagreb||Croatia":[45.815,15.9819],"Zahle||Lebanon":[33.8478,35.9028],"Zamboanga City||Philippines":[6.9214,122.079],"Zapopan||Jalisco":[20.7167,-103.4],"Zaporizhzhia||Ukraine":[47.8388,35.1396],"Zaragoza||Spain":[41.6488,-0.8891],"Zenica||Bosnia and Herzegovina":[44.2036,17.9077],"Zgorzelec||Poland":[51.15,15.0167],"Zielona G√≥ra||Poland":[51.9356,15.5062],"Zonguldak||Turkey":[41.4564,31.7987],"Zouk Mosbeh||Lebanon":[33.9578,35.6058],"Zwolle||Netherlands":[52.5168,6.083],"√âvreux||France":[49.024,1.1508],"√çlhavo||Portugal":[40.5975,-8.6728],"√úr√ºmqi||China":[43.8256,87.6168],"ƒåaƒçak||Serbia":[43.8914,20.3497],"ƒ∞zmir||Turkey":[38.4192,27.1287],"≈åtsu||Shiga":[35.0045,135.8686],"≈†abac||Serbia":[44.7561,19.6939],"≈†iauliai||Lithuania":[55.9349,23.3137],"≈†ibenik||Croatia":[43.735,15.8903],"≈†iroki Brijeg||Bosnia and Herzegovina":[43.3828,17.5936]};
        const FALLBACK = {"USA":[39.8,-98.6],"Canada":[56.1,-106.3],"Spain":[40.5,-3.7],"Italy":[41.9,12.6],"France":[46.2,2.2],"Germany":[51.2,10.5],"Greece":[39.1,21.8],"Turkey":[39,35.2],"Russia":[55.8,37.6],"Serbia":[44,21],"Croatia":[45,15.2],"Slovenia":[46.2,15],"Lithuania":[55.2,23.9],"Israel":[31,34.9],"China":[35.9,104.2],"Japan":[36.2,138.3],"Australia":[-25.3,133.8],"Philippines":[14.6,121],"Puerto Rico":[18.2,-66.6],"Argentina":[-34.6,-58.4],"Brazil":[-23.5,-46.6],"Mexico":[19.4,-99.1],"Venezuela":[10.5,-66.9],"Colombia":[4.7,-74.1],"Chile":[-33.4,-70.6],"Uruguay":[-34.9,-56.2],"Poland":[52.2,21],"Ukraine":[50.4,30.5],"Belgium":[50.8,4.4],"Montenegro":[42.4,19.3],"Lebanon":[33.9,35.5],"United Arab Emirates":[25.2,55.3],"Iran":[35.7,51.4],"Nigeria":[6.5,3.4],"Senegal":[14.7,-17.5],"Georgia":[41.7,44.8],"Latvia":[56.9,24.1],"Estonia":[59.4,24.8],"Hungary":[47.5,19.1],"Romania":[44.4,26.1],"Bulgaria":[42.7,23.3],"Czech Republic":[50.1,14.4],"Austria":[48.2,16.4],"Switzerland":[46.9,7.5],"Netherlands":[52.4,4.9],"Denmark":[55.7,12.6],"Sweden":[59.3,18.1],"Finland":[60.2,24.9],"Iceland":[64.1,-21.9],"Portugal":[38.7,-9.1],"Cyprus":[35.2,33.4],"Bosnia and Herzegovina":[43.9,18.4],"North Macedonia":[42,21.4],"Kosovo":[42.7,21.2],"Taiwan":[25,121.5],"South Korea":[37.6,127],"Indonesia":[-6.2,106.8],"Thailand":[13.8,100.5],"Vietnam":[10.8,106.6],"Malaysia":[3.1,101.7],"Singapore":[1.4,103.9],"India":[19.1,72.9],"Saudi Arabia":[24.7,46.7],"Qatar":[25.3,51.5],"Jordan":[31.9,35.9],"Egypt":[30,31.2],"South Africa":[-26,28],"Dominican Republic":[18.5,-70],"Ecuador":[-0.2,-78.5],"Bolivia":[-16.5,-68.2],"Angola":[-8.8,13.2],"Ivory Coast":[5.4,-4],"New Zealand":[-36.9,174.8],"Monaco":[43.7,7.4],"Andorra":[42.5,1.5],"Ireland":[53.3,-6.3],"England":[51.5,-0.1]};
        const FLAGS = {"USA":"US","Canada":"CA","Spain":"ES","Italy":"IT","France":"FR","Germany":"DE","Greece":"GR","Turkey":"TR","Russia":"RU","Serbia":"RS","Croatia":"HR","Slovenia":"SI","Lithuania":"LT","Israel":"IL","China":"CN","Japan":"JP","South Korea":"KR","Philippines":"PH","Australia":"AU","Puerto Rico":"PR","Argentina":"AR","Brazil":"BR","Mexico":"MX","Dominican Republic":"DO","Venezuela":"VE","Poland":"PL","Ukraine":"UA","Belgium":"BE","Montenegro":"ME","Lebanon":"LB","United Arab Emirates":"AE","Iran":"IR","Nigeria":"NG","Senegal":"SN","Georgia":"GE","Latvia":"LV","Estonia":"EE","Hungary":"HU","Romania":"RO","Bulgaria":"BG","Czech Republic":"CZ","Austria":"AT","Switzerland":"CH","Netherlands":"NL","Denmark":"DK","Sweden":"SE","Finland":"FI","Iceland":"IS","Portugal":"PT","Cyprus":"CY","Bosnia and Herzegovina":"BA","North Macedonia":"MK","Kosovo":"XK","Taiwan":"TW","Indonesia":"ID","Thailand":"TH","Vietnam":"VN","Malaysia":"MY","Singapore":"SG","India":"IN","Saudi Arabia":"SA","Qatar":"QA","Jordan":"JO","Egypt":"EG","South Africa":"ZA","Colombia":"CO","Chile":"CL","Uruguay":"UY","Ecuador":"EC","Bolivia":"BO","Angola":"AO","Ivory Coast":"CI","New Zealand":"NZ","Monaco":"MC","Andorra":"AD","Ireland":"IE","England":"GB","Azerbaijan":"AZ","Kazakhstan":"KZ","Mongolia":"MN","Syria":"SY","Iraq":"IQ","Bahrain":"BH","Kuwait":"KW","Tunisia":"TN","Libya":"LY","Tanzania":"TZ","Burundi":"BI","Hong Kong":"HK"};
        const getFlag = c => {
            const code = FLAGS[c];
            if(!code) return '';
            // Convert 2-letter code to flag emoji
            return String.fromCodePoint(...[...code.toUpperCase()].map(c => 0x1F1E6 + c.charCodeAt(0) - 65));
        };
        const getCoords = (city,state,country) => {
            if(!city) return null;
            let k = `${city}|${state||''}|${country||''}`;
            if(COORDS[k]) return COORDS[k];
            k = `${city}||${country||''}`;
            if(COORDS[k]) return COORDS[k];
            if(country && FALLBACK[country]) {
                const b = FALLBACK[country];
                const h = city.split('').reduce((a,c)=>((a<<5)-a)+c.charCodeAt(0),0);
                return [b[0]+((h%100)-50)/30, b[1]+(((h>>8)%100)-50)/30];
            }
            return null;
        };
        
        let map, markersLayer, pathLayer, markers = [];
        let players = [], data = {}, teamIdx = {}, current = null;
        
        function initMap() {
            map = L.map('map', {center:[39,-98], zoom:4});
            L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
                attribution:'¬©OSM ¬©CARTO', subdomains:'abcd', maxZoom:19
            }).addTo(map);
            markersLayer = L.layerGroup().addTo(map);
            pathLayer = L.layerGroup().addTo(map);
        }
        
        function clearMap() {
            markersLayer.clearLayers();
            pathLayer.clearLayers();
            markers = [];
        }
        
        function bezierCurve(p1, p2, offset) {
            // Create a curved path between two points
            const midLat = (p1[0] + p2[0]) / 2;
            const midLng = (p1[1] + p2[1]) / 2;
            const dx = p2[1] - p1[1];
            const dy = p2[0] - p1[0];
            const dist = Math.sqrt(dx*dx + dy*dy);
            // Perpendicular offset for curve
            const curveFactor = Math.min(0.3, dist * 0.15);
            const ctrlLat = midLat + (dx * curveFactor * offset);
            const ctrlLng = midLng - (dy * curveFactor * offset);
            
            const points = [];
            for(let t = 0; t <= 1; t += 0.05) {
                const lat = (1-t)*(1-t)*p1[0] + 2*(1-t)*t*ctrlLat + t*t*p2[0];
                const lng = (1-t)*(1-t)*p1[1] + 2*(1-t)*t*ctrlLng + t*t*p2[1];
                points.push([lat, lng]);
            }
            return points;
        }
        
        function draw(career) {
            clearMap();
            const pts = [];
            career.forEach((s,i) => {
                const c = getCoords(s.city,s.state,s.country);
                if(c) pts.push({coords:c, stop:s, idx:i});
            });
            if(!pts.length) return;
            
            // Draw curved paths with arrows
            if(pts.length > 1) {
                for(let i = 0; i < pts.length - 1; i++) {
                    const curveOffset = (i % 2 === 0) ? 1 : -1; // Alternate curve direction
                    const curvePoints = bezierCurve(pts[i].coords, pts[i+1].coords, curveOffset);
                    
                    // Draw the curved line
                    const line = L.polyline(curvePoints, {
                        color: '#d63031', weight: 2.5, opacity: 0.6
                    }).addTo(pathLayer);
                    
                    // Add arrow at midpoint
                    const midIdx = Math.floor(curvePoints.length / 2);
                    const arrowPos = curvePoints[midIdx];
                    const nextPos = curvePoints[Math.min(midIdx + 2, curvePoints.length - 1)];
                    const angle = Math.atan2(nextPos[0] - arrowPos[0], nextPos[1] - arrowPos[1]) * 180 / Math.PI;
                    
                    const arrowIcon = L.divIcon({
                        className: '',
                        html: `<div style="color:#d63031;font-size:14px;transform:rotate(${-angle + 90}deg);opacity:0.8">‚û§</div>`,
                        iconSize: [14, 14],
                        iconAnchor: [7, 7]
                    });
                    L.marker(arrowPos, {icon: arrowIcon, interactive: false}).addTo(pathLayer);
                }
            }
            
            // Markers
            pts.forEach((p,i) => {
                const first = i===0, last = i===pts.length-1;
                let bg = '#d63031';
                if(first) bg = '#27ae60';
                else if(last) bg = '#2980b9';
                const sz = first ? 32 : (last ? 26 : 22);
                
                // First marker gets "START" label
                let label = first ? 'START' : (i+1).toString();
                let fontSize = first ? '8px' : '11px';
                let extraStyle = first ? 'letter-spacing:-0.5px;' : '';
                
                const icon = L.divIcon({
                    className:'marker',
                    html:`<div style="width:${sz}px;height:${sz}px;background:${bg};border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:${fontSize};font-weight:700;color:#fff;border:3px solid #fff;box-shadow:0 2px 8px rgba(0,0,0,0.4);${extraStyle}">${label}</div>`,
                    iconSize:[sz,sz], iconAnchor:[sz/2,sz/2]
                });
                
                const m = L.marker(p.coords,{icon, zIndexOffset: first ? 1000 : (last ? 500 : 0)}).addTo(markersLayer);
                markers.push({m, idx:p.idx});
                
                const loc = p.stop.state ? `${p.stop.city}, ${p.stop.state}` : p.stop.city||'';
                const stopLabel = first ? 'üü¢ First Stop' : (last ? 'üîµ Latest Stop' : `Stop #${i+1}`);
                m.bindPopup(`<div style="font-size:10px;color:#777;margin-bottom:4px">${stopLabel}</div><div class="popup-team">${getFlag(p.stop.country)} ${p.stop.team}</div><div class="popup-loc">${loc}${p.stop.country?', '+p.stop.country:''}</div><div class="popup-yrs">${p.stop.years}</div>`,{closeButton:false,offset:[0,-5]});
                
                m.on('mouseover',()=>hlTimeline(p.idx));
                m.on('mouseout',()=>hlTimeline(-1));
            });
            
            map.fitBounds(pts.map(p=>p.coords),{padding:[40,40],maxZoom:5});
        }
        
        function hlTimeline(idx) {
            document.querySelectorAll('.stop').forEach((el,i)=>{
                el.classList.toggle('hl',i===idx);
            });
        }
        
        function hlMarker(idx) {
            markers.forEach(({m,idx:i})=>{
                const el = m.getElement();
                if(el) {
                    const inner = el.querySelector('div');
                    if(inner) inner.style.transform = i===idx ? 'scale(1.3)' : '';
                }
            });
        }
        
        async function load() {
            const pRes = await fetch('nba_players_list.csv');
            players = (await pRes.text()).trim().split('\n').slice(1).map(l=>l.split(',')[0]?.replace(/"/g,'').trim()).filter(Boolean);
            
            const cRes = await fetch('nba_players_careers_READY.json');
            (await cRes.json()).forEach(p=>{
                data[p.player] = p;
                if(p.career_history) p.career_history.forEach(s=>{
                    if(!teamIdx[s.team]) teamIdx[s.team] = {loc:s, players:[]};
                    teamIdx[s.team].players.push({name:p.player,years:s.years});
                });
            });
            
            showWelcome();
            
            // Don't auto-load - let quiz hero be the focus
            // User can click chips or search to explore
        }
        
        function showWelcome() {
            const avail = ALL_STARS.filter(p=>data[p]?.career_history?.length >= 5).sort(()=>Math.random()-0.5).slice(0,12);
            document.getElementById('welcomeChips').innerHTML = avail.map(p=>`<div class="chip" onclick="show('${p}')">${p}</div>`).join('');
        }
        
        function getSimilar(name) {
            const p = data[name];
            if(!p) return [];
            const career = p.career_history||[];
            const y1 = parseInt(career[0]?.years?.split('-')[0])||2000;
            
            let era = "2010s";
            if(y1>=2018) era="2020s";
            else if(y1>=2005) era="2010s";
            else if(y1>=1995) era="2000s";
            else if(y1>=1985) era="1990s";
            else era="1980s";
            
            const set = new Set();
            (ERAS[era]||[]).forEach(x=>{if(x!==name&&data[x]?.career_history?.length >= 5)set.add(x);});
            
            const teams = new Set(career.map(c=>c.team));
            teams.forEach(t=>{
                if(teamIdx[t]) teamIdx[t].players.forEach(x=>{
                    if(x.name!==name&&data[x.name]&&ALL_STARS.includes(x.name)) set.add(x.name);
                });
            });
            
            return [...set].slice(0,8);
        }
        
        // Search
        const searchEl = document.getElementById('search');
        const resultsEl = document.getElementById('results');
        
        searchEl.addEventListener('input',function(){
            const q = this.value.toLowerCase().trim();
            if(q.length<2){resultsEl.classList.remove('show');resultsEl.innerHTML='';return;}
            // Search through loaded data keys (more reliable than CSV)
            const dataPlayers = Object.keys(data);
            const m = dataPlayers.filter(n=>n.toLowerCase().includes(q)).sort((a,b)=>{
                // Prioritize names that START with the query
                const aStarts = a.toLowerCase().startsWith(q);
                const bStarts = b.toLowerCase().startsWith(q);
                if(aStarts && !bStarts) return -1;
                if(!aStarts && bStarts) return 1;
                return a.localeCompare(b);
            }).slice(0,10);
            if(!m.length){
                resultsEl.innerHTML='<div class="result-item" style="color:#777">No players found</div>';
                resultsEl.classList.add('show');
                return;
            }
            resultsEl.innerHTML = m.map(n=>`<div class="result-item" data-n="${n}">${n}</div>`).join('');
            resultsEl.classList.add('show');
        });
        
        resultsEl.addEventListener('click',e=>{
            if(e.target.classList.contains('result-item')){
                searchEl.value = e.target.dataset.n;
                resultsEl.classList.remove('show');
                show(e.target.dataset.n);
            }
        });
        
        document.addEventListener('click',e=>{
            if(!searchEl.contains(e.target)&&!resultsEl.contains(e.target)) resultsEl.classList.remove('show');
        });
        
        searchEl.addEventListener('keydown',e=>{
            if(e.key==='Enter'){
                const f = resultsEl.querySelector('.result-item');
                if(f){searchEl.value=f.dataset.n;resultsEl.classList.remove('show');show(f.dataset.n);}
            }
        });
        
        function show(name) {
            const p = data[name];
            if(!p?.career_history?.length){alert('No data available.');return;}
            
            current = name;
            const career = p.career_history;
            
            document.getElementById('welcome').style.display = 'none';
            document.getElementById('playerSection').classList.add('active');
            
            document.getElementById('pName').textContent = name;
            const y1 = parseInt(career[0].years?.split('-')[0]) || 0;
            const y2 = parseInt(career[career.length-1].years?.split('-')[1] || career[career.length-1].years?.split('-')[0]) || 0;
            document.getElementById('pSpan').textContent = y1 && y2 ? `${y1} ‚Äì ${y2}` : (y1 ? `${y1} ‚Äì present` : '');
            
            document.getElementById('sTeams').textContent = new Set(career.map(c=>c.team)).size;
            document.getElementById('sCountries').textContent = new Set(career.map(c=>c.country).filter(Boolean)).size||1;
            const yearSpan = (y1 && y2 && y2 >= y1) ? (y2 - y1 + 1) : career.length;
            document.getElementById('sYears').textContent = Math.max(1, yearSpan);
            document.getElementById('sStops').textContent = career.length;
            
            document.getElementById('timeline').innerHTML = career.map((s,i)=>{
                const loc = s.city?(s.state?`${s.city}, ${s.state}`:s.city):'';
                return `<div class="stop" data-i="${i}" onmouseenter="hlMarker(${i})" onmouseleave="hlMarker(-1)">
                    <div class="stop-num">${i+1}</div>
                    <div class="stop-team" onclick="openModal('${s.team.replace(/'/g,"\\'")}')">${getFlag(s.country)} ${s.team}</div>
                    <div class="stop-meta">${loc}${s.country?', '+s.country:''} ¬∑ ${s.years}</div>
                </div>`;
            }).join('');
            
            document.getElementById('similarChips').innerHTML = getSimilar(name).map(x=>`<div class="chip" onclick="show('${x}')">${x}</div>`).join('');
            
            draw(career);
            
            if(window.innerWidth<768) document.querySelector('.panel').scrollTop=0;
        }
        
        function openModal(team) {
            const t = teamIdx[team];
            if(!t) return;
            
            document.getElementById('mTitle').textContent = team;
            const loc = t.loc;
            document.getElementById('mLoc').textContent = loc.city ? `${getFlag(loc.country)} ${loc.city}${loc.state?', '+loc.state:''}${loc.country?', '+loc.country:''}` : '';
            document.getElementById('mCount').textContent = `${t.players.length} players`;
            
            const sorted = [...t.players].sort((a,b)=>(parseInt(b.years.split('-')[0])||0)-(parseInt(a.years.split('-')[0])||0));
            document.getElementById('mList').innerHTML = sorted.slice(0,50).map(x=>`<div class="modal-row" onclick="closeModal();show('${x.name.replace(/'/g,"\\'")}')"><span>${x.name}</span><span class="modal-yrs">${x.years}</span></div>`).join('') + (sorted.length>50?`<div style="padding:8px;color:#777;font-size:11px">+${sorted.length-50} more</div>`:'');
            
            document.getElementById('modal').classList.add('show');
        }
        
        function closeModal() {
            document.getElementById('modal').classList.remove('show');
        }
        
        document.getElementById('modal').addEventListener('click',e=>{
            if(e.target.id==='modal') closeModal();
        });
        
        
        // ====== QUIZ MODE ======
        let quizState = {
            active: false,
            players: [],
            currentIdx: 0,
            score: 0,
            results: [],
            timer: null,
            timeLeft: 15,
            answered: false,
            quizMap: null
        };
        
        function getEligiblePlayers() {
            // Players with 400+ NBA games, 3+ career stops, career starting 1990 or later
            return Object.values(data).filter(p => {
                if(!p.career_history || p.career_history.length < 3) return false;
                
                // Must have 400+ NBA games played
                if(!PLAYERS_400_GAMES.has(p.player)) return false;
                
                const y1 = parseInt(p.career_history[0]?.years?.split('-')[0]) || 0;
                if(y1 < 1990) return false;
                
                // Must have valid coordinates for at least 2 stops
                let validStops = 0;
                for(const s of p.career_history) {
                    if(s.city && s.country) validStops++;
                }
                return validStops >= 2;
            });
        }
        
        function shuffleArray(arr) {
            const a = [...arr];
            for(let i = a.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [a[i], a[j]] = [a[j], a[i]];
            }
            return a;
        }
        
        function getWrongOptions(correctPlayer, eligible) {
            const correct = data[correctPlayer];
            const correctTeams = correct.career_history?.length || 5;
            const correctY1 = parseInt(correct.career_history[0]?.years?.split('-')[0]) || 2000;
            
            // Get similar players (same era, similar team count)
            const candidates = eligible.filter(p => {
                if(p.player === correctPlayer) return false;
                const teams = p.career_history?.length || 0;
                const y1 = parseInt(p.career_history[0]?.years?.split('-')[0]) || 2000;
                // Within 10 years and within 3 teams
                return Math.abs(y1 - correctY1) <= 12 && Math.abs(teams - correctTeams) <= 4;
            });
            
            // If not enough similar, use any eligible
            let pool = candidates.length >= 10 ? candidates : eligible.filter(p => p.player !== correctPlayer);
            
            return shuffleArray(pool).slice(0, 4).map(p => p.player);
        }
        
        function startQuiz() {
            document.getElementById('quizOverlay').classList.add('show');
            document.getElementById('quizIntro').style.display = 'block';
            document.getElementById('quizFinal').style.display = 'none';
        }
        
        function closeQuiz() {
            document.getElementById('quizOverlay').classList.remove('show');
            document.getElementById('quizPanel').classList.remove('show');
            document.getElementById('quizMapContainer').classList.remove('show');
            if(quizState.timer) clearInterval(quizState.timer);
            quizState.active = false;
            
            // Restore original map
            document.getElementById('map').style.display = '';
        }
        
        function beginQuiz() {
            const eligible = getEligiblePlayers();
            if(eligible.length < 15) {
                alert('Not enough eligible players loaded. Please wait for data to load.');
                return;
            }
            
            // Reset state
            quizState = {
                active: true,
                players: shuffleArray(eligible).slice(0, 10),
                currentIdx: 0,
                score: 0,
                results: [],
                timer: null,
                timeLeft: 15,
                answered: false,
                quizMap: null
            };
            
            // Hide intro, show game
            document.getElementById('quizOverlay').classList.remove('show');
            document.getElementById('quizIntro').style.display = 'none';
            document.getElementById('quizFinal').style.display = 'none';
            
            // Hide original map, show quiz map container
            document.getElementById('map').style.display = 'none';
            document.getElementById('quizMapContainer').classList.add('show');
            document.getElementById('quizPanel').classList.add('show');
            
            // Initialize quiz map
            initQuizMap();
            
            showQuestion();
        }
        
        function initQuizMap() {
            const container = document.getElementById('quizMapContainer');
            container.innerHTML = '<div id="quizMap" style="width:100%;height:100%"></div>';
            
            quizState.quizMap = L.map('quizMap', {center: [39, -98], zoom: 4});
            L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
                attribution: '', subdomains: 'abcd', maxZoom: 19
            }).addTo(quizState.quizMap);
            
            quizState.markersLayer = L.layerGroup().addTo(quizState.quizMap);
            quizState.pathLayer = L.layerGroup().addTo(quizState.quizMap);
        }
        
        function drawQuizMap(career) {
            quizState.markersLayer.clearLayers();
            quizState.pathLayer.clearLayers();
            
            const pts = [];
            career.forEach((s, i) => {
                const c = getCoords(s.city, s.state, s.country);
                if(c) pts.push({coords: c, stop: s, idx: i});
            });
            
            if(pts.length < 2) return;
            
            // Draw curved paths with arrows
            for(let i = 0; i < pts.length - 1; i++) {
                const curveOffset = (i % 2 === 0) ? 1 : -1;
                const curvePoints = bezierCurve(pts[i].coords, pts[i+1].coords, curveOffset);
                
                L.polyline(curvePoints, {
                    color: '#d63031', weight: 2.5, opacity: 0.6
                }).addTo(quizState.pathLayer);
                
                // Arrow at midpoint
                const midIdx = Math.floor(curvePoints.length / 2);
                const arrowPos = curvePoints[midIdx];
                const nextPos = curvePoints[Math.min(midIdx + 2, curvePoints.length - 1)];
                const angle = Math.atan2(nextPos[0] - arrowPos[0], nextPos[1] - arrowPos[1]) * 180 / Math.PI;
                
                const arrowIcon = L.divIcon({
                    className: '',
                    html: `<div style="color:#d63031;font-size:14px;transform:rotate(${-angle + 90}deg);opacity:0.8">‚û§</div>`,
                    iconSize: [14, 14],
                    iconAnchor: [7, 7]
                });
                L.marker(arrowPos, {icon: arrowIcon, interactive: false}).addTo(quizState.pathLayer);
            }
            
            // Draw markers
            pts.forEach((p, i) => {
                const first = i === 0, last = i === pts.length - 1;
                let bg = '#d63031';
                if(first) bg = '#27ae60';
                else if(last) bg = '#2980b9';
                const sz = first ? 32 : (last ? 26 : 22);
                const label = first ? 'START' : (i+1).toString();
                const fontSize = first ? '8px' : '11px';
                
                const icon = L.divIcon({
                    className: '',
                    html: `<div style="width:${sz}px;height:${sz}px;background:${bg};border-radius:50%;border:3px solid #fff;box-shadow:0 2px 8px rgba(0,0,0,0.4);display:flex;align-items:center;justify-content:center;color:#fff;font-size:${fontSize};font-weight:700">${label}</div>`,
                    iconSize: [sz, sz],
                    iconAnchor: [sz/2, sz/2]
                });
                
                const m = L.marker(p.coords, {icon, zIndexOffset: first ? 1000 : (last ? 500 : 0)}).addTo(quizState.markersLayer);
                const loc = p.stop.city ? (p.stop.state ? `${p.stop.city}, ${p.stop.state}` : p.stop.city) : '';
                const stopLabel = first ? 'üü¢ First Stop' : (last ? 'üîµ Latest Stop' : `Stop #${i+1}`);
                m.bindPopup(`<div style="font-size:10px;color:#777;margin-bottom:4px">${stopLabel}</div><div style="font-weight:600">${getFlag(p.stop.country)} ${p.stop.team}</div><div style="font-size:12px;color:#777">${loc} ¬∑ ${p.stop.years}</div>`, {closeButton: false});
            });
            
            quizState.quizMap.fitBounds(pts.map(p => p.coords), {padding: [40, 40], maxZoom: 5});
        }
        
        function showQuestion() {
            const player = quizState.players[quizState.currentIdx];
            const career = player.career_history;
            
            // Update progress
            document.getElementById('quizProgress').textContent = `Question ${quizState.currentIdx + 1} of 10`;
            document.getElementById('quizScoreDisplay').textContent = `${quizState.score.toFixed(1)} pts`;
            
            // Draw map
            drawQuizMap(career);
            
            // Generate options
            const eligible = getEligiblePlayers();
            const wrongOptions = getWrongOptions(player.player, eligible);
            const allOptions = shuffleArray([player.player, ...wrongOptions]);
            
            document.getElementById('quizOptions').innerHTML = allOptions.map(name => 
                `<button class="quiz-option" onclick="submitAnswer('${name.replace(/'/g, "\'")}')">${name}</button>`
            ).join('');
            
            // Reset UI
            document.getElementById('quizResult').classList.remove('show', 'correct', 'wrong', 'timeout');
            document.getElementById('quizButtons').style.display = 'none';
            quizState.answered = false;
            
            // Start timer
            quizState.timeLeft = 15;
            updateTimerDisplay();
            
            if(quizState.timer) clearInterval(quizState.timer);
            quizState.timer = setInterval(() => {
                quizState.timeLeft -= 0.01;
                updateTimerDisplay();
                
                if(quizState.timeLeft <= 0) {
                    clearInterval(quizState.timer);
                    if(!quizState.answered) {
                        handleTimeout();
                    }
                }
            }, 10);
        }
        
        function updateTimerDisplay() {
            const el = document.getElementById('quizTimer');
            const t = Math.max(0, quizState.timeLeft);
            el.textContent = t.toFixed(2);
            
            el.classList.remove('warning', 'danger');
            if(t <= 3) el.classList.add('danger');
            else if(t <= 7) el.classList.add('warning');
        }
        
        function submitAnswer(selectedName) {
            if(quizState.answered) return;
            quizState.answered = true;
            clearInterval(quizState.timer);
            
            const correctName = quizState.players[quizState.currentIdx].player;
            const isCorrect = selectedName === correctName;
            const timeTaken = 15 - quizState.timeLeft;
            
            // Calculate score: 15 at 0 sec, 1.5 at 15 sec (linear), -5 for wrong
            let points = 0;
            if(isCorrect) {
                points = Math.max(1.5, 15 - (timeTaken * 0.9)); // 0.9 pts per second
            } else {
                points = -5; // Penalty for wrong answer
            }
            
            quizState.score += points;
            quizState.results.push({
                player: correctName,
                correct: isCorrect,
                points: points,
                time: timeTaken
            });
            
            // Update UI
            const buttons = document.querySelectorAll('.quiz-option');
            buttons.forEach(btn => {
                btn.disabled = true;
                if(btn.textContent === correctName) btn.classList.add('correct');
                if(btn.textContent === selectedName && !isCorrect) btn.classList.add('wrong');
            });
            
            const resultEl = document.getElementById('quizResult');
            if(isCorrect) {
                resultEl.textContent = `‚úì Correct! +${points.toFixed(2)} points (${timeTaken.toFixed(2)}s)`;
                resultEl.className = 'quiz-result show correct';
            } else {
                resultEl.textContent = `‚úó Wrong! The answer was ${correctName} (-5 points)`;
                resultEl.className = 'quiz-result show wrong';
            }
            
            document.getElementById('quizScoreDisplay').textContent = `${quizState.score.toFixed(1)} pts`;
            
            // Auto-advance after 1.5 seconds
            setTimeout(() => {
                if(quizState.active) nextQuestion();
            }, 1500);
        }
        
        function handleTimeout() {
            quizState.answered = true;
            const correctName = quizState.players[quizState.currentIdx].player;
            
            const points = -5; // Penalty for timeout
            quizState.score += points;
            
            quizState.results.push({
                player: correctName,
                correct: false,
                points: points,
                time: 15
            });
            
            // Update UI
            const buttons = document.querySelectorAll('.quiz-option');
            buttons.forEach(btn => {
                btn.disabled = true;
                if(btn.textContent === correctName) btn.classList.add('correct');
            });
            
            const resultEl = document.getElementById('quizResult');
            resultEl.textContent = `‚è± Time's up! The answer was ${correctName} (-5 points)`;
            resultEl.className = 'quiz-result show timeout';
            
            document.getElementById('quizScoreDisplay').textContent = `${quizState.score.toFixed(1)} pts`;
            
            // Auto-advance after 1.5 seconds
            setTimeout(() => {
                if(quizState.active) nextQuestion();
            }, 1500);
        }
        
        function nextQuestion() {
            quizState.currentIdx++;
            
            if(quizState.currentIdx >= 10) {
                showFinalResults();
            } else {
                showQuestion();
            }
        }
        
        function showFinalResults() {
            // Hide game UI
            document.getElementById('quizPanel').classList.remove('show');
            document.getElementById('quizMapContainer').classList.remove('show');
            
            // Restore original map
            document.getElementById('map').style.display = '';
            
            // Show results overlay
            document.getElementById('quizOverlay').classList.add('show');
            document.getElementById('quizIntro').style.display = 'none';
            document.getElementById('quizFinal').style.display = 'block';
            
            document.getElementById('finalScore').textContent = quizState.score.toFixed(2);
            
            // Build detailed results list
            const resultsList = quizState.results.map(r => {
                const isCorrect = r.correct;
                const ptsStr = isCorrect ? '+' + r.points.toFixed(2) : r.points.toFixed(2);
                const timeStr = isCorrect ? ' (' + r.time.toFixed(2) + 's)' : '';
                return `<div class="quiz-result-row">
                    <span class="quiz-result-icon ${isCorrect ? 'correct' : 'wrong'}">${isCorrect ? '‚úì' : '‚úó'}</span>
                    <span class="quiz-result-name">${r.player}</span>
                    <span class="quiz-result-points ${isCorrect ? 'correct' : 'wrong'}">${ptsStr}${timeStr}</span>
                </div>`;
            }).join('');
            
            document.getElementById('quizResultsList').innerHTML = resultsList;
            
            // Show loading state for percentile
            const percentileEl = document.getElementById('quizPercentile');
            percentileEl.textContent = 'Calculating ranking...';
            percentileEl.classList.add('loading');
            
            // Submit score and get percentile
            submitScore().then(() => {
                // Generate share image after we have percentile
                generateShareImage();
            });
        }
        
        async function submitScore() {
            const correct = quizState.results.filter(r => r.correct).length;
            const missed = 10 - correct;
            
            // Store percentile data for share image
            quizState.percentile = null;
            quizState.rank = null;
            quizState.totalPlayers = null;
            
            // Check if API URL is configured
            if (!SCORE_API_URL || SCORE_API_URL === 'YOUR_APPS_SCRIPT_URL_HERE') {
                document.getElementById('quizPercentile').textContent = '';
                document.getElementById('quizPercentile').classList.remove('loading');
                return;
            }
            
            try {
                // Use GET with query params to avoid CORS preflight issues
                const params = new URLSearchParams({
                    action: 'submit',
                    score: quizState.score.toFixed(2),
                    correct: correct,
                    missed: missed
                });
                
                const response = await fetch(SCORE_API_URL + '?' + params.toString(), {
                    method: 'GET',
                    redirect: 'follow'
                });
                
                const data = await response.json();
                
                if (data.success) {
                    quizState.percentile = data.percentile;
                    quizState.rank = data.rank;
                    quizState.totalPlayers = data.totalPlayers;
                    
                    const percentileEl = document.getElementById('quizPercentile');
                    percentileEl.classList.remove('loading');
                    
                    // Show rank clearly
                    percentileEl.innerHTML = `Rank <strong>#${data.rank}</strong> of ${data.totalPlayers.toLocaleString()} players`;
                    percentileEl.style.color = '#fff';
                    percentileEl.style.background = 'rgba(255,255,255,0.1)';
                }
            } catch (error) {
                console.log('Score submission error:', error);
                document.getElementById('quizPercentile').textContent = '';
                document.getElementById('quizPercentile').classList.remove('loading');
            }
        }


        function generateShareImage() {
            const canvas = document.getElementById('shareCanvas');
            const ctx = canvas.getContext('2d');
            
            // Square format (1080x1080)
            const size = 1080;
            canvas.width = size;
            canvas.height = size;
            
            // Dark gradient background
            const bgGrad = ctx.createLinearGradient(0, 0, 0, size);
            bgGrad.addColorStop(0, '#0a0a0a');
            bgGrad.addColorStop(1, '#1a1a1a');
            ctx.fillStyle = bgGrad;
            ctx.fillRect(0, 0, size, size);
            
            // Load and draw logo
            const logo = new Image();
            logo.onload = function() {
                // Draw logo at top - smaller
                const logoSize = 80;
                ctx.drawImage(logo, (size - logoSize) / 2, 35, logoSize, logoSize);
                
                // Title - smaller
                ctx.fillStyle = '#fff';
                ctx.font = 'bold 32px "Open Sans", Arial, sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText('NBA CAREER MAP QUIZ', size/2, 150);
                
                // Red accent line
                ctx.fillStyle = '#d63031';
                ctx.fillRect(size/2 - 80, 165, 160, 3);
                
                // Score section - prominent
                const scoreNum = quizState.score.toFixed(1);
                const scoreColor = quizState.score >= 0 ? '#2ecc71' : '#e74c3c';
                ctx.fillStyle = scoreColor;
                ctx.font = 'bold 100px "Open Sans", Arial, sans-serif';
                ctx.fillText(scoreNum, size/2, 270);
                
                ctx.fillStyle = '#888';
                ctx.font = 'bold 18px "Open Sans", Arial, sans-serif';
                ctx.fillText('POINTS', size/2, 295);
                
                // Rank display (if available) - simple and clear
                if (quizState.rank && quizState.totalPlayers) {
                    ctx.fillStyle = '#ffffff';
                    ctx.font = 'bold 28px "Open Sans", Arial, sans-serif';
                    ctx.fillText('Rank #' + quizState.rank + ' of ' + quizState.totalPlayers.toLocaleString() + ' players', size/2, 340);
                }
                
                // Stats bar
                const correct = quizState.results.filter(r => r.correct).length;
                const wrong = 10 - correct;
                const statsY = 380;
                
                ctx.fillStyle = '#111';
                roundRect(ctx, 60, statsY, size - 120, 70, 10);
                ctx.fill();
                
                // Correct count
                ctx.fillStyle = '#2ecc71';
                ctx.font = 'bold 36px "Open Sans", Arial, sans-serif';
                ctx.fillText(correct.toString(), size/2 - 140, statsY + 45);
                ctx.fillStyle = '#aaa';
                ctx.font = 'bold 14px "Open Sans", Arial, sans-serif';
                ctx.fillText('CORRECT', size/2 - 140, statsY + 62);
                
                // Divider
                ctx.fillStyle = '#333';
                ctx.fillRect(size/2, statsY + 15, 1, 45);
                
                // Wrong count  
                ctx.fillStyle = '#e74c3c';
                ctx.font = 'bold 36px "Open Sans", Arial, sans-serif';
                ctx.fillText(wrong.toString(), size/2 + 140, statsY + 45);
                ctx.fillStyle = '#aaa';
                ctx.font = 'bold 14px "Open Sans", Arial, sans-serif';
                ctx.fillText('MISSED', size/2 + 140, statsY + 62);
                
                // Player results - compact
                let y = 490;
                ctx.textAlign = 'left';
                
                quizState.results.forEach((r, i) => {
                    const isCorrect = r.correct;
                    const rowY = y + (i * 42);
                    
                    // Subtle alternating background
                    if(i % 2 === 0) {
                        ctx.fillStyle = 'rgba(255,255,255,0.03)';
                        ctx.fillRect(60, rowY - 25, size - 120, 40);
                    }
                    
                    // Status icon
                    ctx.font = 'bold 22px "Open Sans", Arial, sans-serif';
                    ctx.fillStyle = isCorrect ? '#2ecc71' : '#e74c3c';
                    ctx.fillText(isCorrect ? '‚úì' : '‚úó', 80, rowY);
                    
                    // Player name
                    ctx.fillStyle = '#ffffff';
                    ctx.font = '22px "Open Sans", Arial, sans-serif';
                    ctx.fillText(r.player, 115, rowY);
                    
                    // Points
                    ctx.textAlign = 'right';
                    ctx.fillStyle = isCorrect ? '#2ecc71' : '#e74c3c';
                    ctx.font = 'bold 20px "Open Sans", Arial, sans-serif';
                    if(isCorrect) {
                        ctx.fillText('+' + r.points.toFixed(1), size - 70, rowY);
                    } else {
                        ctx.fillText('-5', size - 70, rowY);
                    }
                    ctx.textAlign = 'left';
                });
                
                // CTA section at bottom
                ctx.textAlign = 'center';
                ctx.fillStyle = '#ffffff';
                ctx.font = 'bold 28px "Open Sans", Arial, sans-serif';
                ctx.fillText('CAN YOU BEAT MY SCORE?', size/2, 940);
                
                // Red button
                ctx.fillStyle = '#d63031';
                roundRect(ctx, size/2 - 170, 960, 340, 50, 25);
                ctx.fill();
                
                ctx.fillStyle = '#ffffff';
                ctx.font = 'bold 20px "Open Sans", Arial, sans-serif';
                ctx.fillText('PLAY AT HOOPSHYPE.COM', size/2, 993);
                
                // Subtle top/bottom red lines instead of corner brackets
                ctx.fillStyle = '#d63031';
                ctx.fillRect(size/2 - 200, 0, 400, 4);
                ctx.fillRect(size/2 - 200, size - 4, 400, 4);
                
                // Convert to image
                const dataUrl = canvas.toDataURL('image/png');
                const img = document.getElementById('shareImage');
                img.src = dataUrl;
                
                // Set download link
                document.getElementById('downloadLink').href = dataUrl;
                
                // Set Twitter share link
                const tweetText = encodeURIComponent('I scored ' + quizState.score.toFixed(1) + ' points on the NBA Career Map Quiz! Can you beat me? üèÄ\n\nPlay now: hoopshype.com/nba-career-map');
                document.getElementById('twitterShare').href = 'https://twitter.com/intent/tweet?text=' + tweetText;
                
                document.getElementById('shareImageContainer').classList.add('show');
            };
            logo.src = 'data:image/png;base64,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';
        }
        
        function roundRect(ctx, x, y, w, h, r) {
            ctx.beginPath();
            ctx.moveTo(x + r, y);
            ctx.lineTo(x + w - r, y);
            ctx.quadraticCurveTo(x + w, y, x + w, y + r);
            ctx.lineTo(x + w, y + h - r);
            ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
            ctx.lineTo(x + r, y + h);
            ctx.quadraticCurveTo(x, y + h, x, y + h - r);
            ctx.lineTo(x, y + r);
            ctx.quadraticCurveTo(x, y, x + r, y);
            ctx.closePath();
        }

document.addEventListener('DOMContentLoaded',()=>{initMap();load();});
    </script>

    <!-- Quiz Overlay -->
    <div class="quiz-overlay" id="quizOverlay">
        <div class="quiz-box" id="quizIntro">
            <div class="quiz-title">üèÄ Ready to Play?</div>
            <div class="quiz-subtitle">10 questions ‚Ä¢ 15 seconds each ‚Ä¢ 150 max points</div>
            <div class="quiz-ready-buttons">
                <button class="quiz-start-btn" onclick="beginQuiz()">Start Quiz</button>
                <button class="quiz-close-btn" onclick="closeQuiz()">Cancel</button>
            </div>
        </div>
        
        <div class="quiz-box quiz-box-large" id="quizFinal" style="display:none">
            <div class="quiz-title">Quiz Complete!</div>
            <div class="quiz-final">
                <div class="quiz-final-score" id="finalScore">0</div>
                <div class="quiz-final-label">out of 150 points</div>
                <div class="quiz-percentile" id="quizPercentile"></div>
                <div class="quiz-results-list" id="quizResultsList"></div>
            </div>
            <canvas id="shareCanvas" style="display:none"></canvas>
            <div id="shareImageContainer">
                <img id="shareImage">
                <div class="share-actions">
                    <a id="downloadLink" class="share-download-btn" download="hoopshype-quiz-result.png">
                        ‚¨áÔ∏è Download Image
                    </a>
                    <a id="twitterShare" class="share-twitter-btn" target="_blank">
                        üê¶ Share on Twitter
                    </a>
                </div>
                <div class="share-instructions">Save the image and share it on social media!</div>
            </div>
            <div class="quiz-final-buttons">
                <button class="quiz-start-btn" onclick="beginQuiz()">Play Again</button>
                <button class="quiz-close-btn" onclick="closeQuiz()">Close</button>
            </div>
        </div>
    </div>
    
    <!-- Quiz Game Panel (during gameplay) -->
    <div class="quiz-map-container" id="quizMapContainer"></div>
    <div class="quiz-panel" id="quizPanel">
        <div class="quiz-header">
            <div class="quiz-progress" id="quizProgress">Q1/10</div>
            <div class="quiz-timer" id="quizTimer">15.00</div>
            <div class="quiz-score" id="quizScoreDisplay">0 pts</div>
        </div>
        <div class="quiz-result" id="quizResult"></div>
        <div class="quiz-options" id="quizOptions"></div>
        <div class="quiz-buttons" id="quizButtons" style="display:none">
            <button class="quiz-next-btn" id="quizNextBtn" onclick="nextQuestion()">Next Question</button>
        </div>
    </div>

</body>
</html>
